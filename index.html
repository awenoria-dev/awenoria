<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Awenoria — Audit de conformité automatisé</title>
  <meta name="description" content="Testez la conformité RGPD, accessibilité et mentions légales de votre site, gratuitement.">

  <!-- Favicons (optionnels mais recommandés) -->
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16.png">

  <style>
    :root{
      --blue:#0073b6; --blue-dark:#005a8e; --accent:#ff6600;
      --bg-deep:#0f1a2b; /* fond plus clair qu'avant */
      --bg-1:#12233d; --bg-2:#0e1f36; /* halos */
      --surface: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.10);
      --text:#eaf2ff; --muted:#a9b8d0;
      --radius:16px;
      --shadow-lg: 0 14px 30px rgba(6,15,31,.38), inset 0 1px 0 rgba(255,255,255,.04);
    }

    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; font-family: Inter, system-ui, Arial, sans-serif; color:var(--text);
      background:
        radial-gradient(900px 600px at 15% -10%, var(--bg-1) 0%, transparent 60%),
        radial-gradient(900px 600px at 85% 0%, var(--bg-2) 0%, transparent 60%),
        linear-gradient(180deg, #132646 0%, var(--bg-deep) 60%, #0d1728 100%);
    }
    a{ color:#cfe7ff; text-decoration:none }
    .container{ max-width:1160px; margin:0 auto; padding:24px 20px }

    /* ===== HEADER (verre dépoli + logo sheen) ===== */
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(180%) blur(12px);
      background:rgba(18,32,55,.55);
      box-shadow: 0 1px 0 rgba(255,255,255,.06), 0 10px 28px rgba(8,17,35,.22);
    }
    .nav{ display:flex; align-items:center; justify-content:space-between; gap:20px; padding:14px 0 }

    .brand{
      position:relative; display:inline-flex; align-items:center; justify-content:center;
      border-radius:14px; padding:6px 10px; cursor:pointer;
      transition: filter .25s ease, transform .12s ease;
    }
    .brand__logo{ display:block; height:68px; width:auto }
    @media (min-width:992px){ .brand__logo{ height:76px } }

    /* halo + sheen */
    .brand::after{
      content:""; position:absolute; inset:-8px; border-radius:18px; opacity:.0; pointer-events:none;
      background:radial-gradient(50% 50% at 30% 30%, rgba(42,170,255,.55), transparent 60%);
      filter:blur(16px); transition:opacity .35s ease;
    }
    .brand::before{
      content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
      width:46%; left:-70%; top:0; bottom:0; transform:skewX(-18deg);
      background:linear-gradient(100deg, transparent 0%,
        rgba(255,255,255,.18) 44%, rgba(255,255,255,.85) 50%,
        rgba(255,255,255,.18) 56%, transparent 100%);
      transition:left .9s cubic-bezier(.22,.61,.36,1); opacity:.9;
    }
    .brand:hover{ filter: drop-shadow(0 8px 28px rgba(0,135,220,.35)) brightness(1.06) }
    .brand:hover::after{ opacity:1 } .brand:hover::before{ left:120% }
    .brand:active{ transform:scale(.98) }

    nav a{
      position:relative; color:#d9e6f7; font-weight:600; margin-left:18px; padding:8px 0;
      opacity:.92; transition:opacity .2s ease
    }
    nav a:hover{ opacity:1 }
    nav a::after{
      content:""; position:absolute; left:0; right:0; bottom:-2px; height:2px;
      transform:scaleX(0); transform-origin:left;
      background:linear-gradient(90deg, #49baff, #ff8a44);
      transition:transform .28s ease;
    }
    nav a:hover::after{ transform:scaleX(1) }

    /* ===== HERO ===== */
    .hero{ display:grid; gap:18px; text-align:center; padding:58px 0 42px }
    h1{
      margin:0; font-size:46px; line-height:1.08;
      background:linear-gradient(180deg,#f7fbff 0%, #c6dbff 100%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: 0 10px 30px rgba(49,129,255,.08);
    }
    .sub{ color:var(--muted); max-width:760px; margin:0 auto }

    .testbox{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center; align-items:center; margin-top:18px }
    input.url{
      width:540px; max-width:92vw; padding:16px 16px; border-radius:14px; font-size:16px;
      color:#eaf2ff; background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      outline:none; transition:border-color .2s ease, background .2s ease;
    }
    input.url:focus{ border-color:#47b7ff; background:rgba(255,255,255,.08) }
    .btn{
      appearance:none; border:none; cursor:pointer; font-weight:800; font-size:16px;
      padding:14px 20px; border-radius:14px; color:#0c1527;
      background:linear-gradient(135deg, #61c6ff 0%, #1aa3ff 30%, #0d78c0 100%);
      box-shadow: 0 12px 28px rgba(13,120,192,.35), inset 0 1px 0 rgba(255,255,255,.35);
      transition: transform .12s ease, filter .2s ease;
    }
    .btn:hover{ filter:brightness(1.05) } .btn:active{ transform:translateY(1px) }

    .result{
      margin-top:24px; background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10); border-radius:var(--radius);
      box-shadow:var(--shadow-lg); padding:22px; display:none; text-align:left;
    }

    /* ===== GRID VIGNETTES — 3D propre & cohérent ===== */
    .grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:20px; margin-top:28px; perspective: 1000px }
    @media (max-width:900px){ .grid{ grid-template-columns:1fr } }

    .tile{
      position:relative; border-radius:var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border:1px solid var(--stroke);
      box-shadow: var(--shadow-lg);
      padding:20px; transform-style:preserve-3d; transform: translateZ(0);
      transition: transform .25s ease, background .25s ease, border-color .25s ease;
      overflow:hidden;
    }
    /* bordure dégradée animée (cohérente sur toutes les tuiles) */
    .tile::before{
      content:""; position:absolute; inset:-2px; border-radius:calc(var(--radius) + 2px);
      background: conic-gradient(from 220deg, #4fc3ff, #ff8a44, #4fc3ff);
      filter: blur(12px); opacity:.18; z-index:0; transition:opacity .25s ease;
    }
    /* sheen balayage */
    .tile::after{
      content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
      width:50%; left:-70%; top:0; bottom:0; transform:skewX(-18deg);
      background:linear-gradient(100deg, transparent 0%, rgba(255,255,255,.10) 45%, rgba(255,255,255,.55) 50%, rgba(255,255,255,.10) 55%, transparent 100%);
      transition:left .9s cubic-bezier(.22,.61,.36,1); opacity:.9;
      z-index:1;
    }
    .tile:hover{
      transform: translateY(-6px) rotateX(4deg) rotateY(-3deg);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border-color: rgba(86,193,255,.35);
    }
    .tile:hover::before{ opacity:.32 }
    .tile:hover::after{ left:120% }

    .tile h3{ margin:10px 0 6px; letter-spacing:.2px }
    .muted{ color:var(--muted); margin:0 }

    .badge{
      display:inline-flex; align-items:center; gap:8px;
      background:linear-gradient(90deg, #4fc3ff, #ff8a44);
      color:#0d1728; padding:6px 12px; border-radius:999px; font-size:12px; font-weight:800;
      transform: translateZ(30px);
    }
    .badge svg{ width:16px; height:16px }

    .tile .cta{
      margin-top:12px; display:inline-block; font-weight:700; font-size:14px;
      color:#dff1ff; opacity:.9; transform: translateZ(20px);
    }
    .tile .cta:hover{ opacity:1; text-decoration:underline }

    /* ===== FOOTER ===== */
    .footer{ margin-top:46px; padding:24px 0; color:#c3d2e8; font-size:14px; border-top:1px solid rgba(255,255,255,.10) }
    .footer a{ color:#c3d2e8 }

    /* Reduced motion */
    @media (prefers-reduced-motion:reduce){
      .brand::before, .tile::after{ transition:none }
      .tile, .brand, .btn, nav a::after{ transition:none }
    }
  </style>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header>
    <div class="container nav">
      <!-- Logo seul, cliquable -->
      <a href="./index.html" class="brand" title="Accueil">
        <img src="./images/logo.png" alt="Awenoria" class="brand__logo">
      </a>

      <nav>
        <a href="index.html"><b>Accueil</b></a>
        <a href="fonctionnalites.html">Fonctionnalités</a>
        <a href="comment.html">Comment ça marche</a>
        <a href="tarifs.html">Tarifs</a>
        <a href="faq.html">FAQ</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <main class="container">
    <section class="hero">
      <h1>Audit automatique de conformité</h1>
      <p class="sub">Testez la conformité RGPD, accessibilité et mentions légales de votre site en un clic.</p>

      <div class="testbox">
        <input id="url" class="url" type="text" placeholder="https://votresite.fr" />
        <button class="btn" onclick="analyser()">Analyser</button>
      </div>

      <div id="resultat" class="result" aria-live="polite"></div>

      <!-- ===== 6 VIGNETTES COHÉRENTES ===== -->
      <div class="grid" id="tiles">
        <!-- RGPD -->
        <article class="tile">
          <span class="badge">
            <!-- shield svg -->
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2l7 3v6c0 5-3.5 9-7 11-3.5-2-7-6-7-11V5l7-3z"/></svg>
            RGPD
          </span>
          <h3>Politique & cookies</h3>
          <p class="muted">Politique, base légale, droits, DPO, bandeau cookies.</p>
          <a class="cta" href="fonctionnalites.html#rgpd">Voir détails →</a>
        </article>

        <!-- A11y -->
        <article class="tile">
          <span class="badge">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm-6.5 6h13l.5 2-4.5 1v9h-2v-6h-1v6h-2v-9l-4.5-1 .5-2z"/></svg>
            Accessibilité
          </span>
          <h3>Points A11y clés</h3>
          <p class="muted">ALT, repères ARIA, contrastes, déclaration d’accessibilité.</p>
          <a class="cta" href="fonctionnalites.html#a11y">Voir détails →</a>
        </article>

        <!-- Mentions -->
        <article class="tile">
          <span class="badge">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 4h16v14H5.5L4 19.5V4zm4 3h8v2H8V7zm0 4h8v2H8v-2z"/></svg>
            Mentions
          </span>
          <h3>Mentions & e-commerce</h3>
          <p class="muted">Éditeur, hébergeur, RCS/SIREN, CGV/CGU, rétractation.</p>
          <a class="cta" href="fonctionnalites.html#legal">Voir détails →</a>
        </article>

        <!-- Analyse locale -->
        <article class="tile">
          <span class="badge">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3l4 4h-3v6H11V7H8l4-4zM5 21h14v-2H5v2z"/></svg>
            Étape 1
          </span>
          <h3>Analyse locale</h3>
          <p class="muted">Tout s’exécute côté navigateur. Aucun stockage.</p>
          <a class="cta" href="comment.html#step1">Voir le pas-à-pas →</a>
        </article>

        <!-- Diagnostic -->
        <article class="tile">
          <span class="badge">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h4l3 6 4-14 3 8h4l-2 7H5l-2-7z"/></svg>
            Étape 2
          </span>
          <h3>Diagnostic priorisé</h3>
          <p class="muted">Score global + 3 recommandations par thématique.</p>
          <a class="cta" href="comment.html#step2">Voir le pas-à-pas →</a>
        </article>

        <!-- Suite -->
        <article class="tile">
          <span class="badge">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 5l4 4h-3v6h-2V9H8l4-4zm-7 9h14v2H5v-2z"/></svg>
            Étape 3
          </span>
          <h3>Suite (bientôt)</h3>
          <p class="muted">Rapport PDF, modèles juridiques, historique & suivi.</p>
          <a class="cta" href="fonctionnalites.html#suite">Voir la roadmap →</a>
        </article>
      </div>

      <p style="margin-top:12px">
        <a href="fonctionnalites.html">Voir toutes les fonctionnalités →</a> &nbsp;·&nbsp;
        <a href="comment.html">Voir le pas-à-pas détaillé →</a>
      </p>
    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="container footer">
    <div style="display:flex;gap:12px;justify-content:space-between;flex-wrap:wrap">
      <span>© <span id="year"></span> Awenoria</span>
      <span>
        <a href="mentions.html">Mentions légales</a> ·
        <a href="confidentialite.html">Confidentialité</a>
      </span>
    </div>
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <script>
    // année dynamique
    document.getElementById('year').textContent = new Date().getFullYear();

    // URL du Worker Cloudflare
    const WORKER_URL = "https://awenoria.bmavcontact.workers.dev/analyze";
    const normalizeUrl = u => { if(!u) return ""; u=u.trim(); if(!/^https?:\/\//i.test(u)) u="https://"+u; return u; };
    const pct = n => Number.isFinite(n) ? `${Math.round(n)}%` : "—";

    async function analyser(){
      const input=document.getElementById('url');
      const site=normalizeUrl(input.value);
      if(!site){ alert("Merci d'entrer une URL."); return; }

      const box=document.getElementById('resultat');
      box.style.display='block';
      box.innerHTML='<p>Analyse en cours…</p>';

      try{
        const res = await fetch(`${WORKER_URL}?url=${encodeURIComponent(site)}`, { headers:{accept:"application/json"} });
        const data = await res.json();
        if(!res.ok || data.ok===false) throw new Error(data?.error || `Erreur (${res.status})`);

        const s=data.scores||{}, rgpd=data.rgpd||{}, legal=data.legal||{}, a11y=data.a11y||{};
        box.innerHTML = `
          <h2 style="margin:0 0 8px">Résultats pour <b>${data.finalUrl||site}</b></h2>
          <p><b>Score global :</b> ${pct(s.global)}</p>
          <ul style="list-style:none;padding:0;line-height:1.9;margin:0">
            <li>🔹 <b>RGPD</b> : ${pct(s.rgpd)} ${rgpd.policyLink?"• Politique détectée":"• Politique non détectée"} ${rgpd.cookiesWords?"• Cookies":""}</li>
            <li>🔹 <b>Mentions légales</b> : ${pct(s.mentions)} ${legal.mentionsLink?"• Lien détecté":"• Non détecté"} ${legal.cgvLink?"• CGV":""} ${legal.cguLink?"• CGU":""}</li>
            <li>🔹 <b>Accessibilité</b> : ${pct(s.accessibilite)} • ALT: ${a11y.imgWithAlt||0}/${a11y.imgCount||0} ${a11y.hasAria?"• ARIA":""} ${a11y.hasLandmarks?"• repères":""}</li>
          </ul>
          <p style="margin-top:10px;color:#a9b8d0">Analyse via Cloudflare Worker (aucun stockage).</p>`;
      }catch(e){
        box.innerHTML = `<p style="color:#ffb4b4"><b>Erreur :</b> ${e.message}</p>`;
        console.error(e);
      }
    }

    /* Tilt léger (3D) sur les tuiles, cohérent et fluide */
    (() => {
      const tiles = document.querySelectorAll('.tile');
      tiles.forEach(tile => {
        let rAF=null;
        const reset = () => { tile.style.transform = 'translateY(0) rotateX(0) rotateY(0)'; };
        tile.addEventListener('mousemove', (e) => {
          const rect = tile.getBoundingClientRect();
          const x = (e.clientX - rect.left) / rect.width;  // 0 → 1
          const y = (e.clientY - rect.top)  / rect.height; // 0 → 1
          const rotY = (x - .5) * -10;  // -5 → 5
          const rotX = (y - .5) *  10;  // -5 → 5
          if(rAF) cancelAnimationFrame(rAF);
          rAF = requestAnimationFrame(() => {
            tile.style.transform = `translateY(-6px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
          });
        });
        tile.addEventListener('mouseleave', () => {
          if(rAF) cancelAnimationFrame(rAF);
          tile.style.transition = 'transform .25s ease';
          reset();
          setTimeout(()=> tile.style.transition='', 260);
        });
      });
    })();
  </script>
</body>
</html>
