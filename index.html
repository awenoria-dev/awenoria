<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Awenoria ‚Äî Audit de conformit√© automatis√©</title>
  <meta name="description" content="Testez la conformit√© RGPD, accessibilit√© et mentions l√©gales de votre site, gratuitement." />

  <!-- Favicon / logo d‚Äôonglet -->
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="./images/favicon-180.png">

  <style>
    :root {
      --blue:#0073b6; --blue2:#005a8e; --orange:#ff6600;
      --bg:#f6f9fc; --card:#ffffff; --text:#1f2937; --muted:#6b7280;
      --r:16px; --shadow:0 10px 30px rgba(0,0,0,.06);
    }

    *{ box-sizing: border-box }
    body{ margin:0; font-family: Inter, system-ui, Arial; background:var(--bg); color:var(--text) }
    a{ color:var(--blue); text-decoration:none }
    .container{ max-width:1100px; margin:0 auto; padding:24px }

    /* ============ HEADER ============ */
    header{ background:#fff; box-shadow:0 2px 10px rgba(0,0,0,.05) }
    .nav{ display:flex; align-items:center; justify-content:space-between; padding:14px 0 }

    /* Bloc logo cliquable (plus grand + brillance) */
    .brand{
      position:relative;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:6px 10px;
      border-radius:14px;
      text-decoration:none;
      cursor:pointer;
      transition: filter .25s ease, transform .12s ease;
    }
    .brand__logo{
      display:block;
      height:64px;             /* ‚Üê augmente si tu veux (72/80px) */
      width:auto;
    }
    /* Effets de surbrillance */
    .brand::before, .brand::after{
      content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
    }
    .brand::after{
      opacity:0; transition:opacity .25s ease; filter:blur(10px);
      background: radial-gradient(60% 60% at 30% 30%, rgba(0,115,182,.28), transparent 60%);
    }
    .brand::before{
      width:40%; left:-60%; top:0; bottom:0; transform:skewX(-20deg);
      background:linear-gradient(90deg, rgba(255,255,255,0) 0%,
        rgba(255,255,255,.35) 45%, rgba(255,255,255,.7) 50%,
        rgba(255,255,255,.35) 55%, rgba(255,255,255,0) 100%);
      transition:left .8s ease;
    }
    .brand:hover{ filter: drop-shadow(0 4px 18px rgba(0,90,142,.22)) brightness(1.02) }
    .brand:hover::after{ opacity:1 }
    .brand:hover::before{ left:120% }
    .brand:active{ transform:scale(.98) }
    @media (min-width: 992px){ .brand__logo{ height:72px } }

    /* Navigation */
    nav a{ margin-left:16px; font-weight:600 }
    nav a:hover{ color:var(--orange) }

    /* ============ HERO ============ */
    .hero{ display:grid; gap:18px; text-align:center; padding:44px 0 }
    h1{ font-size:38px; color:var(--blue); margin:0 }
    .sub{ color:var(--muted); max-width:720px; margin:0 auto }
    .testbox{ display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap; margin-top:16px }
    input.url{ width:420px; max-width:90vw; padding:14px 16px; border:1px solid #dbe5ee; border-radius:12px; background:#fff; font-size:16px; outline:none }
    input.url:focus{ border-color:var(--blue) }
    .btn{ padding:14px 18px; border-radius:12px; border:none; font-weight:700; cursor:pointer; background:var(--blue); color:#fff }
    .btn:hover{ background:var(--blue2) }
    .result{ margin-top:22px; background:#fff; border-radius:var(--r); box-shadow:var(--shadow); padding:22px; display:none; text-align:left }

    /* ============ SIX BULLES ============ */
    .grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:18px; margin-top:24px }
    @media (max-width:900px){ .grid{ grid-template-columns:1fr } }
    .card{ background:var(--card); border-radius:var(--r); padding:20px; box-shadow:var(--shadow); text-align:left }
    .badge{ display:inline-block; background:var(--orange); color:#fff; padding:6px 10px; border-radius:999px; font-size:12px; font-weight:800 }
    .card h3{ margin:10px 0 6px }
    .muted{ color:var(--muted); margin:0 }

    /* ============ FOOTER ============ */
    .footer{ margin-top:40px; padding:24px 0; color:var(--muted); font-size:14px; border-top:1px solid #e7eef5 }
    .footer a{ color:var(--muted) }

    /* Accessibilit√© : limiter les animations si demand√© */
    @media (prefers-reduced-motion: reduce){
      .brand::before{ transition:none }
      .brand:hover::before{ left:-60% }
    }
  </style>
</head>

<body>
  <!-- ===== HEADER ===== -->
  <header>
    <div class="container nav">
      <!-- Logo seul, cliquable vers l‚Äôaccueil -->
      <a href="./index.html" class="brand" title="Accueil">
        <img src="./images/logo.png" alt="Awenoria" class="brand__logo">
      </a>

      <nav>
        <a href="index.html"><b>Accueil</b></a>
        <a href="fonctionnalites.html">Fonctionnalit√©s</a>
        <a href="comment.html">Comment √ßa marche</a>
        <a href="tarifs.html">Tarifs</a>
        <a href="faq.html">FAQ</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <main class="container">
    <section class="hero">
      <h1>Audit automatique de conformit√©</h1>
      <p class="sub">Testez la conformit√© RGPD, accessibilit√© et mentions l√©gales de votre site en un clic.</p>

      <div class="testbox">
        <input id="url" class="url" type="text" placeholder="https://votresite.fr" />
        <button class="btn" onclick="analyser()">Analyser</button>
      </div>

      <div id="resultat" class="result" aria-live="polite"></div>

      <!-- 6 BULLES -->
      <div class="grid">
        <article class="card">
          <span class="badge">RGPD</span>
          <h3>Politique & cookies</h3>
          <p class="muted">Pr√©sence d‚Äôune politique, bandeau cookies, base l√©gale, droits, DPO.</p>
        </article>
        <article class="card">
          <span class="badge">Accessibilit√©</span>
          <h3>Points A11y cl√©s</h3>
          <p class="muted">ALT, rep√®res ARIA, contrastes estim√©s, d√©claration d‚Äôaccessibilit√©.</p>
        </article>
        <article class="card">
          <span class="badge">Mentions</span>
          <h3>Mentions & e-commerce</h3>
          <p class="muted">√âditeur, h√©bergeur, RCS/SIREN, CGV/CGU, r√©tractation B2C.</p>
        </article>
        <article class="card">
          <span class="badge">1</span>
          <h3>Analyse locale</h3>
          <p class="muted">Vous entrez l‚ÄôURL, l‚Äôanalyse se fait dans votre navigateur (aucune donn√©e envoy√©e).</p>
        </article>
        <article class="card">
          <span class="badge">2</span>
          <h3>Diagnostic</h3>
          <p class="muted">Score global + 3 recommandations prioritaires par th√©matique.</p>
        </article>
        <article class="card">
          <span class="badge">3</span>
          <h3>Suite (bient√¥t)</h3>
          <p class="muted">Rapport PDF, mod√®les juridiques, historique local et suivi.</p>
        </article>
      </div>

      <p style="margin-top:10px">
        <a href="fonctionnalites.html">Voir toutes les fonctionnalit√©s ‚Üí</a> &nbsp;¬∑&nbsp;
        <a href="comment.html">Voir le pas-√†-pas d√©taill√© ‚Üí</a>
      </p>
    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="container footer">
    <div style="display:flex;gap:12px;justify-content:space-between;flex-wrap:wrap">
      <span>¬© <span id="year"></span> Awenoria</span>
      <span>
        <a href="mentions.html">Mentions l√©gales</a> ¬∑
        <a href="confidentialite.html">Confidentialit√©</a>
      </span>
    </div>
  </footer>

  <!-- ===== SCRIPT ===== -->
  <script>
    // ann√©e dynamique
    document.getElementById('year').textContent = new Date().getFullYear();

    // URL du Worker Cloudflare
    const WORKER_URL = "https://awenoria.bmavcontact.workers.dev/analyze";

    function normalizeUrl(u){ if(!u) return ""; u=u.trim(); if(!/^https?:\/\//i.test(u)) u="https://"+u; return u; }
    function pct(n){ return Number.isFinite(n) ? `${Math.round(n)}%` : "‚Äî"; }

    async function analyser(){
      const input=document.getElementById('url');
      const site=normalizeUrl(input.value);
      if(!site){ alert("Merci d'entrer une URL."); return; }

      const box=document.getElementById('resultat');
      box.style.display='block';
      box.innerHTML='<p>Analyse en cours‚Ä¶</p>';

      try {
        const res = await fetch(`${WORKER_URL}?url=${encodeURIComponent(site)}`, { headers:{accept:"application/json"} });
        const data = await res.json();

        if (!res.ok || data.ok === false) throw new Error(data?.error || `Erreur (${res.status})`);

        const s=data.scores||{}, rgpd=data.rgpd||{}, legal=data.legal||{}, a11y=data.a11y||{};
        box.innerHTML = `
          <h2>R√©sultats pour <b>${data.finalUrl||site}</b></h2>
          <p><b>Score global :</b> ${pct(s.global)}</p>
          <ul style="list-style:none;padding:0;line-height:1.9">
            <li>üîπ <b>RGPD</b> : ${pct(s.rgpd)} ${rgpd.policyLink?"‚Ä¢ Politique d√©tect√©e":"‚Ä¢ Politique non d√©tect√©e"} ${rgpd.cookiesWords?"‚Ä¢ Cookies":""}</li>
            <li>üîπ <b>Mentions l√©gales</b> : ${pct(s.mentions)} ${legal.mentionsLink?"‚Ä¢ Lien d√©tect√©":"‚Ä¢ Non d√©tect√©"} ${legal.cgvLink?"‚Ä¢ CGV":""} ${legal.cguLink?"‚Ä¢ CGU":""}</li>
            <li>üîπ <b>Accessibilit√©</b> : ${pct(s.accessibilite)} ‚Ä¢ ALT: ${a11y.imgWithAlt||0}/${a11y.imgCount||0} ${a11y.hasAria?"‚Ä¢ ARIA":""} ${a11y.hasLandmarks?"‚Ä¢ rep√®res":""}</li>
          </ul>
          <p style="margin-top:10px;color:#6b7280">Analyse via Cloudflare Worker (aucun stockage).</p>`;
      } catch(e) {
        box.innerHTML = `<p style="color:#b91c1c"><b>Erreur :</b> ${e.message}</p>`;
        console.error(e);
      }
    }
  </script>
</body>
</html>
