<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Awenoria — Tarifs & formules</title>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#0e2138; --muted:#6e6e73;
  --accent:#ff7a1a; --accent-2:#ffb067;
  --blue:#0d63a5; --bg-top:#f9fbfe; --bg:#eef4f9; --stroke:#e6eff7;
  --apple-card-bg:#f5f5f7; --apple-card-outline:#e5e5ea; --apple-card-outline-strong:#d2d2d7;
  --apple-text:#1d1d1f; --apple-blue:#0071e3;
  --radius:28px; --shadow-sm:0 14px 34px rgba(16,32,48,.10);
}

/* base */
*{box-sizing:border-box} html,body{margin:0}
body{font-family:Manrope,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,var(--bg-top),var(--bg));color:var(--ink);line-height:1.65}
.container{max-width:1280px;margin:0 auto;padding:24px 22px}
a{text-decoration:none}

/* ===== HEADER (menu restauré) ===== */
.header{position:sticky;top:0;z-index:60;background:var(--bg-top);border-bottom:1px solid transparent;transition:.25s}
.header.scrolled{background:#fff;border-bottom-color:var(--stroke);box-shadow:0 10px 24px rgba(16,32,48,.06)}
.nav{display:flex;align-items:center;justify-content:space-between;gap:20px;min-height:84px}
.brand__logo{height:92px;width:auto}
.mainnav{display:flex;gap:2px;margin-left:auto}
.menu-item{list-style:none;position:relative}
.menu-link{display:inline-block;padding:14px 14px;border-radius:12px;color:#0b446e;font-weight:800;position:relative}
.menu-link:hover{color:var(--accent);background:rgba(13,99,165,.06)}
.menu-link::after{content:"";position:absolute;left:12px;right:12px;bottom:6px;height:3px;background:var(--accent);border-radius:2px;transform:scaleX(0);transition:.22s}
.menu-link:hover::after,.menu-link.active::after{transform:scaleX(1)}
.dropdown{position:absolute;top:calc(100% + 10px);left:0;min-width:280px;padding:10px;background:#fff;border:1px solid var(--stroke);border-radius:14px;box-shadow:0 24px 48px rgba(16,32,48,.12);opacity:0;visibility:hidden;transform:translateY(8px);transition:.18s}
.menu-item:hover .dropdown{opacity:1;visibility:visible;transform:translateY(0)}
.dropdown a{display:flex;padding:10px 12px;border-radius:10px;color:#0b446e;font-weight:700}
.dropdown a:hover{background:#f3f8fc;color:var(--accent)}

/* ===== HERO ===== */
.hero{display:grid;place-items:center;min-height:36vh;color:#fff;background:linear-gradient(180deg,#a9cfe5 0%,#98c5de 40%,#89bcd6 100%)}
.hero h1{margin:0;font-size:48px}

/* ===== SECTION / SCÈNE ===== */
.section{padding:22px 0 28px}
.section-title{margin:10px 0 6px;font-size:34px;color:#0d2440;text-align:center}

.scene{
  position:relative; border-radius:34px; margin:16px auto 0;
  border:1px solid var(--stroke); box-shadow:var(--shadow-sm);
  background:
    linear-gradient(180deg, rgba(255,255,255,.90), rgba(255,255,255,.96)),
    url('./images/trame-reseau.png') center/cover no-repeat;
  overflow:visible; padding-bottom:64px;
}
.viewport{position:absolute; inset:0; display:grid; align-items:center}
.track{
  position:relative; display:flex; gap:48px; align-items:stretch;
  padding:40px 14vw 120px;
  overflow-x:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch;
}
.track::-webkit-scrollbar{display:none}

/* cards */
.card{
  scroll-snap-align:center; position:relative; flex:0 0 min(640px,92vw);
  border-radius:var(--radius); padding:32px 32px 26px; background:var(--apple-card-bg);
  outline:1px solid var(--apple-card-outline); box-shadow:0 16px 42px rgba(0,0,0,.08);
  transition:.34s transform,.34s box-shadow,.34s opacity,.2s outline-color; opacity:.88;
}
.card.center{transform:perspective(1300px) translateZ(0) scale(1.06);box-shadow:0 36px 90px rgba(0,0,0,.16);outline-color:var(--apple-card-outline-strong);opacity:1}
.card.left{transform:perspective(1300px) rotateY(4.5deg) scale(.96)}
.card.right{transform:perspective(1300px) rotateY(-4.5deg) scale(.96)}

.subtitle{margin:0 0 6px;color:var(--muted);font:800 12px/1 Manrope,system-ui;letter-spacing:.12em;text-transform:uppercase}
.h3{margin:2px 0 10px;color:var(--apple-text);font:900 clamp(22px,3.2vw,32px)/1.1 Manrope}
.price-row{display:flex;align-items:baseline;gap:8px;margin:2px 0 10px}
.price{font:900 clamp(40px,5.4vw,56px)/1 Manrope;color:var(--apple-text)}
.per{font:600 14px/1.3 Manrope;color:#6e6e73}
.promise{margin:6px 0 2px;color:var(--apple-text);font:700 16px/1.35 Manrope}

.features{margin:16px 0 0;padding:0;list-style:none}
.features li{display:flex;gap:12px;align-items:flex-start;margin:12px 0;color:var(--apple-text)}
.icon{flex:0 0 22px;height:22px;border-radius:999px;border:2px solid color-mix(in oklab, var(--apple-blue) 24%, var(--apple-card-outline));display:grid;place-items:center}
.icon:before{content:"";display:block;width:8px;height:14px;border-right:3px solid var(--apple-blue);border-bottom:3px solid var(--apple-blue);transform:rotate(45deg) translate(-1px,-2px)}

.cta{display:block;margin-top:16px}
.btn{display:block;width:100%;text-align:left;color:#fff;background:linear-gradient(180deg,var(--apple-blue), color-mix(in oklab, var(--apple-blue) 78%, #003e7a 22%));box-shadow:0 10px 26px rgba(0,113,227,.18),inset 0 1px 0 rgba(255,255,255,.25);border:none;border-radius:12px;padding:14px 18px;font-weight:800;font-size:16px}
.btn b{font-weight:900}
.trial-note{display:block;margin-top:6px;font-size:12.5px;line-height:1.35;font-weight:700;opacity:.95}
.dealbar{display:block;width:100%;margin:12px 0 0;padding:10px 14px;border-radius:12px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;font-weight:900;font-size:13px;box-shadow:var(--shadow-sm)}

/* bouton détail en haut-droite */
.detail-pill{position:absolute;top:-12px;right:18px;z-index:5;background:#0f2746;color:#fff;font-weight:900;font-size:12px;border-radius:999px;padding:9px 14px;border:none;cursor:pointer;box-shadow:var(--shadow-sm)}

/* panneau détail (remplace temporairement le contenu) */
.panel--main{display:block}
.panel--detail{display:none;margin-top:8px;border:1px dashed #d9e6f3;border-radius:16px;background:#fbfeff;padding:14px}
.card.swap .panel--main{display:none}
.card.swap .panel--detail{display:block}
.detail-title{margin:0 0 6px;font-weight:900;color:#0f2746}
.detail-close{margin-top:10px;display:inline-flex;align-items:center;gap:6px;border:1px solid #d9e6f3;background:#fff;border-radius:999px;padding:8px 12px;font-weight:800;cursor:pointer}
.detail-close:hover{background:#f6fbff}

/* flèches */
.arrow{position:absolute;top:50%;transform:translateY(-50%);z-index:4;width:64px;height:64px;border-radius:20px;background:radial-gradient(120% 120% at 30% 30%,rgba(255,255,255,.92) 0%,rgba(255,255,255,.55) 60%,rgba(255,255,255,0) 100%),linear-gradient(180deg,rgba(255,255,255,.72),rgba(255,255,255,.58));border:1px solid rgba(210,225,238,.90);box-shadow:0 12px 28px rgba(16,32,48,.16),inset 0 1px 0 rgba(255,255,255,.85);backdrop-filter:blur(8px) saturate(120%);display:grid;place-items:center;color:#0b4e80;transition:transform .22s ease,opacity .22s ease;opacity:.85}
.arrow:hover{transform:translateY(-50%) scale(1.045);opacity:1}
.arrow svg{width:26px;height:26px} .arrow svg path{stroke:currentColor}
.arrow.left{left:22px} .arrow.right{right:22px}
.arrow[disabled]{opacity:.35;pointer-events:none;color:#8aa4bb}
@media(max-width:820px){.arrow{display:none}}

/* dots */
.dots{position:absolute;left:50%;bottom:16px;transform:translateX(-50%);display:flex;gap:10px}
.dot{width:10px;height:10px;border-radius:50%;background:#c7d9e6}
.dot.active{background:#0a4f86}

/* footer */
.footer{border-top:1px solid var(--stroke);padding:24px 0;margin-top:44px;color:#5c6a7a;font-size:14px}
</style>
</head>
<body>

<header id="site-header" class="header">
  <div class="container nav">
    <a href="./index.html" class="brand"><img src="./images/logo.png" alt="Awenoria" class="brand__logo"></a>
    <ul class="mainnav">
      <li class="menu-item"><a class="menu-link active" href="tarifs.html">Tarifs</a></li>
      <li class="menu-item">
        <a class="menu-link" href="#ressources">Ressources ▾</a>
        <div class="dropdown">
          <a href="guides.html">• Guides & bonnes pratiques</a>
          <a href="modeles.html">• Modèles juridiques</a>
          <a href="faq.html">• FAQ</a>
        </div>
      </li>
      <li class="menu-item"><a class="menu-link" href="a-propos.html">À propos</a></li>
      <li class="menu-item"><a class="menu-link" href="contact.html">Contact</a></li>
    </ul>
  </div>
</header>

<section class="hero">
  <h1>Tarifs & formules</h1>
</section>

<section class="section" aria-label="Offres Awenoria">
  <div class="container"><h2 class="section-title">Nos offres</h2></div>

  <div class="scene">
    <button class="arrow left" id="prev" aria-label="Précédent">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 5l-7 7 7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>
    <button class="arrow right" id="next" aria-label="Suivant">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M9 5l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>

    <div class="viewport" role="region" aria-label="Carrousel des offres">
      <div class="track" id="track">
        <!-- Carte 1 -->
        <article class="card" data-monthly="1" data-annual="10">
          <button class="detail-pill" data-open>Détails</button>
          <div class="panel--main">
            <p class="subtitle">Essentiel</p>
            <h3 class="h3">Créateurs</h3>
            <div class="price-row"><span class="price">1 €</span><span class="per">/ mois</span></div>
            <p class="promise">Le point de départ propre et rassurant.</p>
            <ul class="features">
              <li><span class="icon" aria-hidden="true"></span>Scan démo + synthèse immédiate</li>
              <li><span class="icon" aria-hidden="true"></span>Modèles de mentions légales</li>
              <li><span class="icon" aria-hidden="true"></span>Conseils RGPD indispensables</li>
            </ul>
            <div class="cta">
              <div class="btn">
                Offre d’essai <b>3 jours — 0 €</b>
                <span class="trial-note">* À la fin de l’essai, bascule en mensuel ou annuel selon votre choix.</span>
              </div>
            </div>
            <span class="dealbar" data-dealbar></span>
          </div>
          <div class="panel--detail">
            <h4 class="detail-title">Détails — Créateurs</h4>
            <ul>
              <li>Mensuel : <b data-month></b> /mois</li>
              <li>Annuel en 1 fois : <b data-annual></b> /an (<span data-rate></span> de remise)</li>
              <li>Économie annuelle : <b data-save-an></b></li>
            </ul>
            <button class="detail-close" data-close>Fermer</button>
          </div>
        </article>

        <!-- Carte 2 -->
        <article class="card" data-monthly="2" data-annual="20">
          <button class="detail-pill" data-open>Détails</button>
          <div class="panel--main">
            <p class="subtitle">Le meilleur départ</p>
            <h3 class="h3">Micro & Assos</h3>
            <div class="price-row"><span class="price">2 €</span><span class="per">/ mois</span></div>
            <p class="promise">Tout ce qu’il faut, rien d’inutile.</p>
            <ul class="features">
              <li><span class="icon" aria-hidden="true"></span>Scan site + analyse PDF locale</li>
              <li><span class="icon" aria-hidden="true"></span>Rapport PDF “preuve d’audit”</li>
              <li><span class="icon" aria-hidden="true"></span>Templates RGPD/CGV</li>
            </ul>
            <div class="cta">
              <div class="btn">
                Offre d’essai <b>3 jours — 0 €</b>
                <span class="trial-note">* À la fin de l’essai, bascule en mensuel ou annuel selon votre choix.</span>
              </div>
            </div>
            <span class="dealbar" data-dealbar></span>
          </div>
          <div class="panel--detail">
            <h4 class="detail-title">Détails — Micro & Assos</h4>
            <ul>
              <li>Mensuel : <b data-month></b> /mois</li>
              <li>Annuel en 1 fois : <b data-annual></b> /an (<span data-rate></span> de remise)</li>
              <li>Économie annuelle : <b data-save-an></b></li>
            </ul>
            <button class="detail-close" data-close>Fermer</button>
          </div>
        </article>

        <!-- Carte 3 -->
        <article class="card" data-monthly="9.9" data-annual="85">
          <button class="detail-pill" data-open>Détails</button>
          <div class="panel--main">
            <p class="subtitle">Gain de temps maximal</p>
            <h3 class="h3">Pros & Agences</h3>
            <div class="price-row"><span class="price">9,90 €</span><span class="per">/ mois</span></div>
            <p class="promise">Productivité, rigueur, livrables prêts client.</p>
            <ul class="features">
              <li><span class="icon" aria-hidden="true"></span>Audit multi-thèmes</li>
              <li><span class="icon" aria-hidden="true"></span>Génération & suivi de documents</li>
              <li><span class="icon" aria-hidden="true"></span>Portail client, export complet</li>
            </ul>
            <div class="cta">
              <div class="btn">
                Offre d’essai <b>3 jours — 0 €</b>
                <span class="trial-note">* À la fin de l’essai, bascule en mensuel ou annuel selon votre choix.</span>
              </div>
            </div>
            <span class="dealbar" data-dealbar></span>
          </div>
          <div class="panel--detail">
            <h4 class="detail-title">Détails — Pros & Agences</h4>
            <ul>
              <li>Mensuel : <b data-month></b> /mois</li>
              <li>Annuel en 1 fois : <b data-annual></b> /an (<span data-rate></span> de remise)</li>
              <li>Économie annuelle : <b data-save-an></b></li>
            </ul>
            <button class="detail-close" data-close>Fermer</button>
          </div>
        </article>
      </div>
      <div class="dots" id="dots"></div>
    </div>
  </div>
</section>

<footer class="container footer">
  <div style="display:flex;gap:12px;justify-content:space-between;flex-wrap:wrap">
    <span>© <span id="year"></span> Awenoria</span>
    <span><a href="mentions.html">Mentions légales</a> · <a href="confidentialite.html">Confidentialité</a></span>
  </div>
</footer>

<script>
/* année + header sticky */
document.getElementById('year').textContent = new Date().getFullYear();
(function(){const h=document.getElementById('site-header');const t=()=>{h.classList.toggle('scrolled',window.scrollY>10)};t();window.addEventListener('scroll',t,{passive:true})})();

/* utils */
const euro=n=>(Math.round(n*100)/100).toLocaleString('fr-FR',{minimumFractionDigits:(n%1?2:0),maximumFractionDigits:2})+' €';
const pct =n=>(Math.round(n*10)/10).toLocaleString('fr-FR')+' %';

/* init offres (dealbar + panneau) */
document.querySelectorAll('.card').forEach(card=>{
  const m = parseFloat(card.dataset.monthly||'0');
  const a = parseFloat(card.dataset.annual||'0');
  const year = m*12, rate = year?((year-a)/year*100):0;

  const dealbar = card.querySelector('[data-dealbar]');
  if(dealbar){ dealbar.textContent = `Paiement en 1 fois : ${euro(a)} au lieu de ${euro(year)} — −${pct(rate)}`; }

  card.querySelectorAll('[data-month]').forEach(el=>el.textContent=euro(m));
  card.querySelectorAll('[data-annual]').forEach(el=>el.textContent=euro(a));
  card.querySelectorAll('[data-rate]').forEach(el=>el.textContent='−'+pct(rate));
  card.querySelectorAll('[data-save-an]').forEach(el=>el.textContent=euro(Math.max(0,year-a)));

  card.querySelector('[data-open]')?.addEventListener('click',e=>{e.stopPropagation();card.classList.add('swap');});
  card.querySelector('[data-close]')?.addEventListener('click',e=>{e.stopPropagation();card.classList.remove('swap');});
});

/* ===== CARROUSEL — patch anti-blocage ===== */
const track = document.getElementById('track');
const cards = [...track.querySelectorAll('.card')];
const dots  = document.getElementById('dots');
const prev  = document.getElementById('prev');
const next  = document.getElementById('next');

function idxCenter(){
  const mid = track.getBoundingClientRect().left + track.clientWidth/2;
  let k=0,dmin=1e9;
  cards.forEach((c,i)=>{const r=c.getBoundingClientRect(); const d=Math.abs((r.left+r.right)/2-mid); if(d<dmin){dmin=d;k=i;}});
  return k;
}
function buildDots(){
  dots.innerHTML='';
  cards.forEach((_,i)=>{
    const s=document.createElement('span');
    s.className='dot'+(i===0?' active':'');
    s.tabIndex=0; s.role='button';
    s.addEventListener('click',()=>scrollToIndex(i));
    s.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){e.preventDefault();scrollToIndex(i);} });
    dots.appendChild(s);
  });
}
function updateUI(i){
  cards.forEach((c,j)=>{
    c.classList.toggle('center', j===i);
    c.classList.toggle('left',   j<i);
    c.classList.toggle('right',  j>i);
    const dist=Math.abs(j-i);
    c.style.opacity = (j===i)?1:(dist>=2?0.62:0.86);
  });
  [...dots.children].forEach((d,j)=>d.classList.toggle('active', j===i));
  prev.toggleAttribute('disabled', i<=0);
  next.toggleAttribute('disabled', i>=cards.length-1);
}
function getPadLeft(){ return parseFloat(getComputedStyle(track).paddingLeft)||0; }
function targetLeftFor(i){
  const el = cards[i], pad = getPadLeft();
  return el.offsetLeft - pad - (track.clientWidth - el.offsetWidth)/2;
}
let current = 0, isAnimating = false, endTimer = null;
function snapOff(){ track.style.scrollSnapType='none'; }
function snapOn(){ track.style.scrollSnapType='x mandatory'; }
function finishAnim(i){ isAnimating=false; snapOn(); current=i; updateUI(i); }

function scrollToIndex(i,{instant=false}={}){
  i = Math.max(0, Math.min(cards.length-1, i));
  if(isAnimating) return;
  isAnimating = true;
  updateUI(i);                         // flèches/dots réactifs tout de suite
  snapOff();
  track.scrollTo({ left: targetLeftFor(i), behavior: instant?'auto':'smooth' });
  const onEnd = ()=>{ track.removeEventListener('scrollend', onEnd); clearTimeout(endTimer); finishAnim(i); };
  try{ track.addEventListener('scrollend', onEnd, {once:true}); }catch(e){}
  clearTimeout(endTimer); endTimer=setTimeout(onEnd, instant?0:550);
}

/* interactions */
prev.addEventListener('click', e=>{e.preventDefault();scrollToIndex(current-1);});
next.addEventListener('click', e=>{e.preventDefault();scrollToIndex(current+1);});
document.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft') scrollToIndex(current-1); if(e.key==='ArrowRight') scrollToIndex(current+1); });

/* drag & wheel : recalc index après arrêt utilisateur */
let userTimer=null;
track.addEventListener('scroll', ()=>{
  if(isAnimating) return;
  clearTimeout(userTimer);
  userTimer=setTimeout(()=>{ const i=idxCenter(); if(i!==current){ current=i; updateUI(i);} }, 80);
},{passive:true});

/* clic carte = centrage */
cards.forEach((c,i)=>c.addEventListener('click', ()=>scrollToIndex(i)));

/* init */
buildDots();
current = idxCenter();
updateUI(current);
scrollToIndex(current, {instant:true});

/* recalc au resize */
window.addEventListener('resize', ()=>scrollToIndex(current, {instant:true}));
</script>
</body>
</html>
