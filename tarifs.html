<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Awenoria — Tarifs & formules</title>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#0e2138; --muted:#6e7c8e;
  --accent:#ff7a1a; --accent-2:#ffb067;
  --blue:#0d63a5; --bg-top:#f9fbfe; --bg:#eef4f9;
  --stroke:#e6eff7; --shadow-sm:0 14px 34px rgba(16,32,48,.10);
  --apple-card-bg:#f5f5f7; --apple-card-outline:#e5e5ea; --apple-card-outline-strong:#d2d2d7;
  --apple-text:#1d1d1f; --apple-muted:#6e6e73; --apple-blue:#0071e3;
}
*{box-sizing:border-box}
html,body{margin:0}
body{font-family:Manrope,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,var(--bg-top),var(--bg));color:var(--ink);line-height:1.65}
.container{max-width:1280px;margin:0 auto;padding:24px 22px}

/* header */
.header{position:sticky;top:0;z-index:60;background:var(--bg-top);border-bottom:1px solid transparent;transition:.25s}
.header.scrolled{background:#fff;border-bottom-color:var(--stroke);box-shadow:0 10px 24px rgba(16,32,48,.06)}
.nav{display:flex;align-items:center;justify-content:space-between;gap:20px;min-height:84px}
.brand__logo{height:92px;width:auto}

/* hero */
.hero--image{display:grid;place-items:center;min-height:40vh;background:linear-gradient(180deg,#a9cfe5 0%,#98c5de 40%,#89bcd6 100%);color:#fff}
.hero--image h1{margin:0 0 8px;font-size:54px}

/* scene */
.section{padding:22px 0 28px}
.section-title{margin:10px 0 6px;font-size:36px;color:#0d2440;text-align:center}
.scene{position:relative;height:86vh;min-height:720px;max-height:980px;margin:16px auto 0;border-radius:34px;background:linear-gradient(180deg,#f8fbff,#eef4fb);border:1px solid var(--stroke);box-shadow:var(--shadow-sm);overflow:visible;padding-bottom:64px}
.viewport{position:absolute;inset:0;display:grid;align-items:center}
.track{position:relative;display:flex;gap:48px;align-items:stretch;padding:40px 14vw 120px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
.track::-webkit-scrollbar{display:none}

/* card */
.card{scroll-snap-align:center;position:relative;flex:0 0 min(640px,92vw);border-radius:28px;padding:32px 32px 26px;background:var(--apple-card-bg);outline:1px solid var(--apple-card-outline);box-shadow:0 16px 42px rgba(0,0,0,.08);transition:.34s transform,.34s box-shadow,.34s opacity,.2s outline-color;opacity:.86}
.card.center{transform:perspective(1300px) translateZ(0) scale(1.06);box-shadow:0 36px 90px rgba(0,0,0,.16);outline-color:var(--apple-card-outline-strong);opacity:1}
.card.left{transform:perspective(1300px) rotateY(4.5deg) scale(.96)}
.card.right{transform:perspective(1300px) rotateY(-4.5deg) scale(.96)}

/* top-right pill "Détails" */
.detail-pill{position:absolute;top:-12px;right:18px;z-index:5;background:#0f2746;color:#fff;font-weight:900;font-size:12px;border-radius:999px;padding:9px 14px;border:none;cursor:pointer;box-shadow:var(--shadow-sm)}
.detail-pill:hover{filter:brightness(1.05)}

/* texts */
.subtitle{margin:0 0 6px;color:var(--apple-muted);font:800 12px/1 "SF Pro Text","Helvetica Neue","Helvetica","Arial",sans-serif;letter-spacing:.12em;text-transform:uppercase}
.h3{margin:2px 0 10px;color:var(--apple-text);font:900 clamp(22px,3.2vw,32px)/1.1 "SF Pro Text","Helvetica Neue","Helvetica","Arial",sans-serif}
.price-row{display:flex;align-items:baseline;gap:8px;margin:2px 0 10px}
.price{font:900 clamp(40px,5.4vw,56px)/1 "SF Pro Text","Helvetica Neue","Helvetica","Arial",sans-serif;color:var(--apple-text)}
.per{font:600 14px/1.3 "SF Pro Text","Helvetica Neue","Helvetica","Arial",sans-serif;color:var(--apple-muted)}
.promise{margin:6px 0 2px;color:var(--apple-text);font:700 16px/1.35 "SF Pro Text","Helvetica Neue","Helvetica","Arial",sans-serif}

/* features */
.features{margin:16px 0 0;padding:0;list-style:none}
.features li{display:flex;gap:12px;align-items:flex-start;margin:12px 0;color:var(--apple-text)}
.icon{flex:0 0 22px;height:22px;border-radius:999px;border:2px solid color-mix(in oklab, var(--apple-blue) 24%, var(--apple-card-outline));display:grid;place-items:center}
.icon:before{content:"";display:block;width:8px;height:14px;border-right:3px solid var(--apple-blue);border-bottom:3px solid var(--apple-blue);transform:rotate(45deg) translate(-1px,-2px)}

/* main CTA bubble */
.cta{display:block;margin-top:16px}
.btn.trial{display:block;width:100%;text-align:left;color:#fff;background:linear-gradient(180deg,var(--apple-blue),color-mix(in oklab,var(--apple-blue) 78%,#003e7a 22%));box-shadow:0 10px 26px rgba(0,113,227,.18),inset 0 1px 0 rgba(255,255,255,.25);border:none;border-radius:12px;padding:14px 18px;font-weight:800;font-size:16px;cursor:default}
.btn.trial b{font-weight:900}
.trial-note{display:block;margin-top:6px;font-size:12.5px;line-height:1.35;font-weight:700;opacity:.95}

/* copper bar */
.dealbar{display:block;width:100%;margin:12px 0 0;padding:10px 14px;border-radius:12px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;font-weight:900;font-size:13px;box-shadow:var(--shadow-sm)}

/* swap panels */
.panel--main{display:block}
.panel--detail{display:none;margin-top:8px;border:1px dashed #d9e6f3;border-radius:16px;background:#fbfeff;padding:14px}
.card.swap .panel--main{display:none}
.card.swap .panel--detail{display:block}
.detail-title{margin:0 0 6px;font-weight:900;color:#0f2746}
.detail-close{margin-top:10px;display:inline-flex;align-items:center;gap:6px;border:1px solid #d9e6f3;background:#fff;border-radius:999px;padding:8px 12px;font-weight:800;cursor:pointer}
.detail-close:hover{background:#f6fbff}

/* arrows */
.arrow{position:absolute;top:50%;transform:translateY(-50%);z-index:4;width:64px;height:64px;border-radius:20px;background:radial-gradient(120% 120% at 30% 30%,rgba(255,255,255,.92) 0%,rgba(255,255,255,.55) 60%,rgba(255,255,255,0) 100%),linear-gradient(180deg,rgba(255,255,255,.72),rgba(255,255,255,.58));border:1px solid rgba(210,225,238,.90);box-shadow:0 12px 28px rgba(16,32,48,.16),inset 0 1px 0 rgba(255,255,255,.85);backdrop-filter:blur(8px) saturate(120%);display:grid;place-items:center;color:#0b4e80;transition:transform .22s ease,opacity .22s ease;opacity:.85}
.arrow:hover{transform:translateY(-50%) scale(1.045);opacity:1}
.arrow svg{width:26px;height:26px} .arrow svg path{stroke:currentColor}
.arrow.left{left:22px} .arrow.right{right:22px}
.arrow[disabled]{opacity:.35;pointer-events:none;color:#8aa4bb}
@media(max-width:820px){.arrow{display:none}}

/* dots */
.dots{position:absolute;left:50%;bottom:16px;transform:translateX(-50%);display:flex;gap:10px}
.dot{width:10px;height:10px;border-radius:50%;background:#c7d9e6}
.dot.active{background:#0a4f86}
.footer{border-top:1px solid var(--stroke);padding:24px 0;margin-top:44px;color:#5c6a7a;font-size:14px}
</style>
</head>
<body>

<header id="site-header" class="header">
  <div class="container nav">
    <img src="./images/logo.png" alt="Awenoria" class="brand__logo">
  </div>
</header>

<section class="hero--image"><h1>Tarifs & formules</h1></section>

<section class="section" aria-label="Offres Awenoria">
  <div class="container"><h2 class="section-title">Nos offres</h2></div>

  <div class="scene">
    <button class="arrow left" id="prev" aria-label="Précédent">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 5l-7 7 7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>
    <button class="arrow right" id="next" aria-label="Suivant">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M9 5l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>

    <div class="viewport" role="region" aria-label="Carrousel des offres">
      <div class="track" id="track">
        <!-- Carte 1 -->
        <article class="card" data-monthly="1" data-annual="10" data-market="2">
          <button class="detail-pill" data-open>Details</button>

          <div class="panel--main">
            <p class="subtitle">Essentiel</p>
            <h3 class="h3">Créateurs</h3>
            <div class="price-row"><span class="price">1 €</span><span class="per">/ mois</span></div>
            <p class="promise">Le point de départ propre et rassurant.</p>
            <ul class="features">
              <li><span class="icon" aria-hidden="true"></span>Scan démo + synthèse immédiate</li>
              <li><span class="icon" aria-hidden="true"></span>Modèles de mentions légales</li>
              <li><span class="icon" aria-hidden="true"></span>Conseils RGPD indispensables</li>
            </ul>
            <div class="cta">
              <div class="btn trial">
                Offre d’essai <b>3 jours — 0 €</b>
                <span class="trial-note">* L’essai dure 3 jours ; au terme de la période, il se transforme en abonnement mensuel ou annuel selon votre choix.</span>
              </div>
            </div>
            <span class="dealbar" data-dealbar></span>
          </div>

          <div class="panel--detail">
            <h4 class="detail-title">Détails — Créateurs</h4>
            <p>Tout ce qu’il faut pour démarrer proprement : scan démo, modèles légaux, conseils RGPD. Idéal pour lancer son site sans friction.</p>
            <ul>
              <li>Mensuel : <b data-month></b> /mois</li>
              <li>Annuel en 1 fois : <b data-annual></b> /an (<span data-rate></span> de remise)</li>
              <li>Économie annuelle vs mensuel : <b data-save-an></b></li>
            </ul>
            <button class="detail-close" data-close>Fermer</button>
          </div>
        </article>

        <!-- Carte 2 -->
        <article class="card" data-monthly="2" data-annual="20" data-market="5">
          <button class="detail-pill" data-open>Details</button>

          <div class="panel--main">
            <p class="subtitle">Le meilleur départ</p>
            <h3 class="h3">Micro & Assos</h3>
            <div class="price-row"><span class="price">2 €</span><span class="per">/ mois</span></div>
            <p class="promise">Tout ce qu’il faut, rien d’inutile.</p>
            <ul class="features">
              <li><span class="icon" aria-hidden="true"></span>Scan site + analyse PDF locale</li>
              <li><span class="icon" aria-hidden="true"></span>Rapport PDF “preuve d’audit”</li>
              <li><span class="icon" aria-hidden="true"></span>Templates RGPD/CGV prêts à remplir</li>
            </ul>
            <div class="cta">
              <div class="btn trial">
                Offre d’essai <b>3 jours — 0 €</b>
                <span class="trial-note">* L’essai dure 3 jours ; au terme de la période, il se transforme en abonnement mensuel ou annuel selon votre choix.</span>
              </div>
            </div>
            <span class="dealbar" data-dealbar></span>
          </div>

          <div class="panel--detail">
            <h4 class="detail-title">Détails — Micro & Assos</h4>
            <p>Audit complet avec rapport PDF exploitable et modèles prêts à l’emploi. Parfait pour les petites structures et associations.</p>
            <ul>
              <li>Mensuel : <b data-month></b> /mois</li>
              <li>Annuel en 1 fois : <b data-annual></b> /an (<span data-rate></span> de remise)</li>
              <li>Économie annuelle vs mensuel : <b data-save-an></b></li>
            </ul>
            <button class="detail-close" data-close>Fermer</button>
          </div>
        </article>

        <!-- Carte 3 -->
        <article class="card" data-monthly="9.9" data-annual="85" data-market="19">
          <button class="detail-pill" data-open>Details</button>

          <div class="panel--main">
            <p class="subtitle">Gain de temps maximal</p>
            <h3 class="h3">Pros & Agences</h3>
            <div class="price-row"><span class="price">9,90 €</span><span class="per">/ mois</span></div>
            <p class="promise">Productivité, rigueur, livrables prêts client.</p>
            <ul class="features">
              <li><span class="icon" aria-hidden="true"></span>Audit multi-thèmes (RGPD / A11y / Mentions)</li>
              <li><span class="icon" aria-hidden="true"></span>Génération & suivi de documents</li>
              <li><span class="icon" aria-hidden="true"></span>Portail client, export complet</li>
            </ul>
            <div class="cta">
              <div class="btn trial">
                Offre d’essai <b>3 jours — 0 €</b>
                <span class="trial-note">* L’essai dure 3 jours ; au terme de la période, il se transforme en abonnement mensuel ou annuel selon votre choix.</span>
              </div>
            </div>
            <span class="dealbar" data-dealbar></span>
          </div>

          <div class="panel--detail">
            <h4 class="detail-title">Détails — Pros & Agences</h4>
            <p>Pensé pour la production : multi-thèmes, documents suivis, exports & portail client pour livrer vite et bien.</p>
            <ul>
              <li>Mensuel : <b data-month></b> /mois</li>
              <li>Annuel en 1 fois : <b data-annual></b> /an (<span data-rate></span> de remise)</li>
              <li>Économie annuelle vs mensuel : <b data-save-an></b></li>
            </ul>
            <button class="detail-close" data-close>Fermer</button>
          </div>
        </article>
      </div>
      <div class="dots" id="dots"></div>
    </div>
  </div>
</section>

<footer class="container footer">
  <div style="display:flex;gap:12px;justify-content:space-between;flex-wrap:wrap">
    <span>© <span id="year"></span> Awenoria</span>
    <span><a href="mentions.html">Mentions légales</a> · <a href="confidentialite.html">Confidentialité</a></span>
  </div>
</footer>

<script>
/* header year + sticky */
document.getElementById('year').textContent = new Date().getFullYear();
(function(){const h=document.getElementById('site-header');const t=()=>h.classList.toggle('scrolled',window.scrollY>10);t();window.addEventListener('scroll',t,{passive:true})})();

/* utils */
const euro=n=>(Math.round(n*100)/100).toLocaleString('fr-FR',{minimumFractionDigits:(n%1?2:0),maximumFractionDigits:2})+' €';
const pct =n=>(Math.round(n*10)/10).toLocaleString('fr-FR')+' %';

/* init offres + dealbars + panels */
document.querySelectorAll('.card').forEach((card,i)=>{
  const m = parseFloat(card.dataset.monthly||'0');
  const a = parseFloat(card.dataset.annual||'0');
  const year = m*12;
  const rate = year ? ((year-a)/year*100) : 0;
  const dealbar = card.querySelector('[data-dealbar]');
  if(dealbar){ dealbar.textContent = `Paiement en 1 fois : ${euro(a)} au lieu de ${euro(year)} — −${pct(rate)}`; }

  // remplir panneaux détail
  card.querySelectorAll('[data-month]').forEach(el=>el.textContent=euro(m));
  card.querySelectorAll('[data-annual]').forEach(el=>el.textContent=euro(a));
  card.querySelectorAll('[data-rate]').forEach(el=>el.textContent='−'+pct(rate));
  card.querySelectorAll('[data-save-an]').forEach(el=>el.textContent=euro(Math.max(0,year-a)));

  // open/close swap
  card.querySelector('[data-open]')?.addEventListener('click',(e)=>{ e.stopPropagation(); card.classList.add('swap'); });
  card.querySelector('[data-close]')?.addEventListener('click',(e)=>{ e.stopPropagation(); card.classList.remove('swap'); });
});

/* carrousel – anti-blocage */
const track = document.getElementById('track');
const cards = [...track.querySelectorAll('.card')];
const dots  = document.getElementById('dots');
const prev  = document.getElementById('prev');
const next  = document.getElementById('next');

let activeIndex = 0;
let animating = false;
let scrollRAF = null, scrollTimer = null;

function setDots(){
  dots.innerHTML='';
  cards.forEach((_,i)=>{
    const d=document.createElement('span');
    d.className='dot'+(i===activeIndex?' active':'');
    d.addEventListener('click',()=>goTo(i));
    dots.appendChild(d);
  });
}
function updateUI(i){
  cards.forEach((c,j)=>{
    c.classList.toggle('center', j===i);
    c.classList.toggle('left',   j<i);
    c.classList.toggle('right',  j>i);
    const dist=Math.abs(j-i);
    c.style.opacity = (j===i)?1:(dist>=2?0.62:0.86);
  });
  [...dots.children].forEach((d,j)=>d.classList.toggle('active', j===i));
  prev.toggleAttribute('disabled', i<=0);
  next.toggleAttribute('disabled', i>=cards.length-1);
}
function goTo(target){
  target = Math.max(0, Math.min(cards.length-1, target));
  activeIndex = target;               // on fige l'état cible tout de suite
  updateUI(activeIndex);              // maj flèches -> évite le blocage visuel
  animating = true;
  cards[target].scrollIntoView({behavior:'smooth', inline:'center', block:'nearest'});
  // on débounce la fin d'anim pour recalculs robustes
  clearTimeout(scrollTimer);
  scrollTimer = setTimeout(()=>{ animating=false; snapRecalc(); }, 280);
}
function snapRecalc(){
  // recalcule l’index centré en fin d’anim
  const mid=track.getBoundingClientRect().left + track.clientWidth/2;
  let k=0,dmin=1e9;
  cards.forEach((c,i)=>{const r=c.getBoundingClientRect(); const d=Math.abs((r.left+r.right)/2-mid); if(d<dmin){dmin=d;k=i;}});
  if(k!==activeIndex){ activeIndex=k; updateUI(activeIndex); }
}
track.addEventListener('scroll', ()=>{
  if(animating) return;               // ignore pendant anim pour éviter les faux états
  if(scrollRAF) cancelAnimationFrame(scrollRAF);
  scrollRAF = requestAnimationFrame(snapRecalc);
},{passive:true});

prev.addEventListener('click', ()=>goTo(activeIndex-1));
next.addEventListener('click', ()=>goTo(activeIndex+1));
document.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft') goTo(activeIndex-1); if(e.key==='ArrowRight') goTo(activeIndex+1); });

setDots(); updateUI(activeIndex);
</script>
</body>
</html>
