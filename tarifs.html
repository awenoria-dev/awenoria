<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Awenoria — Tarifs & formules</title>
<meta name="description" content="Le luxe de l’audit à prix démocratisé. Offres claires, remises en paiement en une fois, expérience premium et fluide.">
<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16.png">
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  /* palette lumineuse premium */
  --ink:#0e2138; --muted:#6e7c8e;
  --accent:#ff7a1a; --accent-2:#ffb067;       /* cuivre → doré */
  --red-copper:#e34d4b;                       /* badge remise */
  --blue:#0d63a5; --blue-dark:#0a4f86;
  --bg-top:#f9fbfe; --bg:#eef4f9;
  --surface:#fff; --stroke:#e6eff7;
  --shadow-sm:0 14px 34px rgba(16,32,48,.10);
  --shadow-lg:0 68px 130px rgba(16,32,48,.22);
  --radius:28px;
  --hero-overlay-rgb:0,90,142; --hero-overlay-alpha:.42; --hero-overlay-alpha-mobile:.52;
}
*{box-sizing:border-box} html,body{margin:0}
body{font-family:Manrope,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,var(--bg-top),var(--bg));color:var(--ink);line-height:1.65}
a{text-decoration:none}
.container{max-width:1280px;margin:0 auto;padding:24px 22px}

/* ===== HEADER (avec Ressources) ===== */
.header{position:sticky;top:0;z-index:60;background:var(--bg-top);border-bottom:1px solid transparent;transition:.25s}
.header.scrolled{background:#fff;border-bottom-color:var(--stroke);box-shadow:0 10px 24px rgba(16,32,48,.06)}
.nav{display:flex;align-items:center;justify-content:space-between;gap:20px;min-height:84px}
.brand__logo{height:92px;width:auto} @media(min-width:992px){.brand__logo{height:100px}}
.mainnav{display:flex;gap:2px;margin-left:auto} .menu-item{list-style:none;position:relative}
.menu-link{display:inline-block;padding:14px 14px;border-radius:12px;color:#0b446e;font-weight:800;position:relative}
.menu-link:hover{color:var(--accent);background:rgba(13,99,165,.06)}
.menu-link::after{content:"";position:absolute;left:12px;right:12px;bottom:6px;height:3px;background:var(--accent);border-radius:2px;transform:scaleX(0);transition:.22s}
.menu-link:hover::after,.menu-link.active::after{transform:scaleX(1)} .menu-link.active{color:var(--accent)}
.dropdown{position:absolute;top:calc(100% + 10px);left:0;min-width:280px;padding:10px;background:#fff;border:1px solid var(--stroke);border-radius:14px;box-shadow:0 24px 48px rgba(16,32,48,.12);opacity:0;visibility:hidden;transform:translateY(8px);transition:.18s}
.menu-item:hover .dropdown{opacity:1;visibility:visible;transform:translateY(0)}
.dropdown a{display:flex;padding:10px 12px;border-radius:10px;color:#0b446e;font-weight:700}
.dropdown a:hover{background:#f3f8fc;color:var(--accent)}

/* ===== HERO ===== */
.hero--image{
  position:relative; text-align:center; color:#fff; overflow:hidden;
  min-height:40vh; display:grid; place-items:center;
  background:
    radial-gradient(1100px 520px at 10% -10%, rgba(255,255,255,.16), rgba(255,255,255,0) 60%),
    radial-gradient(1000px 600px at 120% 10%, rgba(255,255,255,.10), rgba(255,255,255,0) 60%),
    linear-gradient(180deg, rgba(var(--hero-overlay-rgb), var(--hero-overlay-alpha)) 0%, rgba(var(--hero-overlay-rgb), var(--hero-overlay-alpha)) 100%),
    linear-gradient(180deg, #a9cfe5 0%, #98c5de 40%, #89bcd6 100%);
}
.hero--image::before,.hero--image::after{
  content:""; position:absolute; inset:-8% -8%; z-index:1; pointer-events:none; opacity:.65; mix-blend-mode:screen;
  -webkit-mask: radial-gradient(ellipse at 50% 52%, transparent 0 28%, #000 32%);
          mask: radial-gradient(ellipse at 50% 52%, transparent 0 28%, #000 32%);
  filter: blur(22px) saturate(115%); animation:awen-waves 24s ease-in-out infinite;
}
.hero--image::before{
  background:
    radial-gradient(900px 420px at -12% 10%, #B86122 0%, rgba(184,97,34,0) 60%),
    radial-gradient(700px 380px at 18% -6%, #D67A2E 0%, rgba(214,122,46,0) 60%),
    radial-gradient(900px 520px at 8% 24%, #F2B56C 0%, rgba(242,181,108,0) 65%);
}
.hero--image::after{
  background:
    radial-gradient(950px 540px at 112% 92%, #A9D3FF 0%, rgba(169,211,255,0) 65%),
    radial-gradient(760px 400px at 86% 104%, #7FB2CB 0%, rgba(127,178,203,0) 62%),
    radial-gradient(880px 420px at 96% 82%, #6FB3D8 0%, rgba(111,179,216,0) 62%);
  animation-delay:-6s;
}
@keyframes awen-waves{0%{transform:translate3d(0,0,0) scale(1)}25%{transform:translate3d(3%,-2%,0) scale(1.03)}50%{transform:translate3d(-2%,2%,0) scale(1.02)}75%{transform:translate3d(4%,1%,0) scale(1.035)}100%{transform:translate3d(0,0,0) scale(1)}}
.hero--image .inner{position:relative; z-index:2; padding:56px 20px 24px}
.hero--image h1{margin:0 0 8px;font-size:54px;line-height:1.06;color:#fff}

/* ===== SECTION ===== */
.section{padding:22px 0 28px}
.section-title{margin:10px 0 6px;font-size:36px;color:#0d2440;text-align:center}

/* ===== SCÈNE IMMERSIVE ===== */
.scene{
  position:relative;
  height:86vh; min-height:720px; max-height:980px;
  margin:16px auto 0; border-radius:34px;
  background:linear-gradient(180deg,#f8fbff, #eef4fb);
  border:1px solid var(--stroke); box-shadow:var(--shadow-sm);
  overflow:visible; padding-bottom:64px;
}

/* halo */
.scene::before{
  content:""; position:absolute; left:50%; top:50%;
  width:min(1800px,110vw); height:min(1800px,110vw);
  transform:translate(-50%,-50%);
  background:radial-gradient(ellipse at center, rgba(255,255,255,.92) 0%, rgba(255,255,255,0) 62%);
  filter:blur(52px); pointer-events:none; z-index:0;
}

/* viewport + piste */
.viewport{position:absolute; inset:0; display:grid; align-items:center; overflow:visible}
.track{
  position:relative; display:flex; gap:48px; align-items:stretch;
  padding:40px 14vw 120px;
  overflow-x:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch;
  z-index:1; overflow-y:visible;
}
.track::-webkit-scrollbar{display:none}

/* zones de scroll automatique (survol bords) */
.edge{position:absolute; top:0; bottom:0; width:11vw; z-index:3}
.edge.left{left:0} .edge.right{right:0}
.edge:after{content:""; position:absolute; inset:0; background:linear-gradient(90deg,rgba(255,255,255,.0),rgba(255,255,255,.7)); opacity:0; transition:.2s}
.edge.left:after{transform:scaleX(-1)}
.edge:hover:after{opacity:.35}

/* CARTES XXL */
.card{
  scroll-snap-align:center; position:relative; flex:0 0 min(640px,92vw);
  border-radius:var(--radius); background:var(--surface);
  border:1px solid var(--stroke); box-shadow:var(--shadow-sm);
  padding:36px 36px 26px; transition:.38s transform, .38s filter, .38s box-shadow, .38s opacity, .38s border-color;
  transform-origin:center center; filter:saturate(.78) brightness(.94) blur(.5px); opacity:.52;
  overflow:visible;
}
.card.center{
  transform:perspective(1300px) translateZ(0) scale(1.22);
  filter:none; opacity:1; box-shadow:var(--shadow-lg); border-color:#d6e6f4;
}
.card.left{transform:perspective(1300px) rotateY(6deg) scale(.9)}
.card.right{transform:perspective(1300px) rotateY(-6deg) scale(.9)}
.card.center::after{
  content:""; position:absolute; inset:0; border-radius:var(--radius);
  background:linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0) 46%);
  pointer-events:none;
}

/* rubans / badges */
.ribbon{
  position:absolute; top:-12px; left:18px; z-index:5;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  color:#fff; font-weight:900; font-size:12px; letter-spacing:.2px;
  border-radius:999px; padding:9px 14px; box-shadow:var(--shadow-sm)
}
.popular{position:absolute; top:-12px; right:18px; z-index:5; background:#0f2746; color:#fff; font-weight:900; font-size:12px; border-radius:999px; padding:9px 14px; box-shadow:var(--shadow-sm)}

/* badge remise rond (clic = ouvre détails) */
.discount{
  position:absolute; top:18px; right:18px; z-index:6;
  display:grid; place-items:center; width:58px; height:58px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #ff9a95, var(--red-copper));
  color:#fff; font-weight:900; border:none; cursor:pointer; box-shadow:0 10px 26px rgba(227,77,75,.38);
  transition:transform .18s ease, box-shadow .18s ease;
}
.discount:hover{transform:scale(1.1)}
.discount::after{
  content:"En savoir plus"; position:absolute; bottom:-28px; white-space:nowrap;
  background:#fff; color:#0f2542; border:1px solid var(--stroke); border-radius:999px; font-size:11px; padding:4px 8px; box-shadow:var(--shadow-sm);
  opacity:0; transform:translateY(6px); transition:.18s ease;
}
.discount:hover::after{opacity:1; transform:none}

/* contenu */
.subtitle{margin:4px auto 6px;text-align:center;color:#5c6e83;font-weight:800;font-size:13px;letter-spacing:.06em;text-transform:uppercase}
.h3{margin:8px 0 8px;text-align:center;color:#0f2542;letter-spacing:.2px;font-weight:900}
.price-row{display:flex;align-items:baseline;justify-content:center;gap:8px;margin:2px 0 10px}
.price{font-size:56px;font-weight:900;letter-spacing:.2px}
.per{font-size:15px;color:var(--muted)}
.promise{margin:8px auto 4px;text-align:center;color:#0f2542;font-weight:700}

/* avantages */
.features{margin:16px 0 0;padding:0;list-style:none}
.features li{display:flex;gap:12px;align-items:flex-start;margin:12px 0}
.icon{flex:0 0 22px;height:22px;border-radius:999px;border:2px solid #cfe1f1;display:grid;place-items:center}
.icon:before{content:"";display:block;width:8px;height:14px;border-right:3px solid var(--blue-dark);border-bottom:3px solid var(--blue-dark);transform:rotate(45deg) translate(-1px,-2px)}

/* CTA */
.cta{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:16px}
.btn{appearance:none;border:none;cursor:pointer;font-weight:900;font-size:16px;padding:14px 18px;border-radius:12px;color:#fff;background:linear-gradient(180deg,#0b5a96,#0a4e83);box-shadow:var(--shadow-lg),inset 0 1px 0 rgba(255,255,255,.35);transition:.18s}
.btn:hover{filter:brightness(1.03)} .btn:active{transform:translateY(1px)}
.btn.ghost{background:#fff;color:#0b446e;border:1px solid var(--stroke);box-shadow:var(--shadow-sm)}
.btn[disabled]{opacity:.55;cursor:not-allowed}
.note{margin-top:10px;color:var(--muted);font-size:13px;text-align:center}

/* mini-bar de remise en bas de carte (visible surtout au centre) */
.savebar{
  margin-top:12px; display:flex; justify-content:center; gap:8px; align-items:center;
  background:#fff6ee; border:1px solid #ffdfc7; color:#8a4200; font-weight:800; font-size:12px;
  padding:8px 12px; border-radius:12px;
  opacity:.0; transform:translateY(6px); transition:.22s;
}
.card.center .savebar{opacity:1; transform:none}

/* détails (clic) */
.details{margin-top:12px;border:1px dashed #d9e6f3;border-radius:16px;background:#fbfeff;overflow:hidden;max-height:0;opacity:0;transition:max-height .3s ease, opacity .3s ease}
.card.show-details .details{max-height:240px;opacity:1}
.details-inner{padding:12px 14px;font-size:14px}
.details b{color:#0f2746}

/* Flèches verre */
.arrow{
  position:absolute; top:50%; transform:translateY(-50%); z-index:4;
  width:64px;height:64px;border-radius:20px;
  background:linear-gradient(180deg,rgba(255,255,255,.9),rgba(255,255,255,.7));
  border:1px solid rgba(210,225,238,.9);
  box-shadow:0 10px 20px rgba(20,40,70,.18), inset 0 1px 0 rgba(255,255,255,.9);
  backdrop-filter: blur(6px);
  display:grid;place-items:center;cursor:pointer;user-select:none;
}
.arrow svg{width:26px;height:26px}
.arrow:hover{transform:translateY(-50%) translateZ(0) scale(1.04)}
.arrow.left{left:22px} .arrow.right{right:22px}
@media(max-width:820px){.arrow{display:none}}

/* dots */
.dots{position:absolute; left:50%; bottom:16px; transform:translateX(-50%); display:flex; gap:10px; z-index:3}
.dot{width:10px;height:10px;border-radius:50%;background:#c7d9e6}
.dot.active{background:var(--blue-dark)}

/* footer */
.footer{border-top:1px solid var(--stroke);padding:24px 0;margin-top:44px;color:#5c6a7a;font-size:14px}
</style>
</head>
<body>

<header id="site-header" class="header">
  <div class="container nav">
    <a href="./index.html" class="brand"><img src="./images/logo.png" alt="Awenoria" class="brand__logo"></a>
    <ul class="mainnav">
      <li class="menu-item"><a class="menu-link" href="index.html">Accueil</a></li>
      <li class="menu-item">
        <a class="menu-link active" href="#" data-page="audit.html">Audit ▾</a>
        <div class="dropdown">
          <a href="./fonctionnalites.html">• Fonctionnalités</a>
          <a href="./comment.html">• Méthodologie</a>
          <a href="./tarifs.html" aria-current="page"><b>• Tarifs</b></a>
        </div>
      </li>
      <li class="menu-item">
        <a class="menu-link" href="#ressources">Ressources ▾</a>
        <div class="dropdown">
          <a href="guides.html">• Guides & bonnes pratiques</a>
          <a href="modeles.html">• Modèles juridiques</a>
          <a href="#externes">• Articles externes</a>
          <a href="faq.html">• FAQ</a>
        </div>
      </li>
      <li class="menu-item"><a class="menu-link" href="a-propos.html">À propos</a></li>
      <li class="menu-item"><a class="menu-link" href="contact.html">Contact</a></li>
    </ul>
  </div>
</header>

<section class="hero--image">
  <div class="inner">
    <h1>Tarifs & formules</h1>
  </div>
</section>

<section class="section" aria-label="Offres Awenoria">
  <div class="container">
    <h2 class="section-title">Nos offres</h2>
  </div>

  <div class="scene">
    <!-- zones de survol pour auto-scroll -->
    <div class="edge left"  id="edgeLeft"></div>
    <div class="edge right" id="edgeRight"></div>

    <button class="arrow left" id="prev" aria-label="Précédent">
      <svg viewBox="0 0 24 24" fill="none"><path d="M15 5l-7 7 7 7" stroke="#0b4e80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>
    <button class="arrow right" id="next" aria-label="Suivant">
      <svg viewBox="0 0 24 24" fill="none"><path d="M9 5l7 7-7 7" stroke="#0b4e80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>

    <div class="viewport" role="region" aria-label="Carrousel des offres">
      <div class="track" id="track">
        <!-- Créateurs -->
        <article class="card" tabindex="0" data-plan="crea" data-monthly="1" data-annual="10" data-market="2">
          <span class="ribbon" data-ribbon></span>
          <button class="discount" data-jump title="Remise paiement en 1 fois"></button>

          <p class="subtitle">Essentiel</p>
          <h3 class="h3">Créateurs</h3>
          <div class="price-row"><span class="price">1 €</span><span class="per">/ mois</span></div>
          <p class="promise">Le point de départ propre et rassurant.</p>

          <ul class="features">
            <li><span class="icon" aria-hidden="true"></span>Scan démo + synthèse immédiate</li>
            <li><span class="icon" aria-hidden="true"></span>Modèles de mentions légales</li>
            <li><span class="icon" aria-hidden="true"></span>Conseils RGPD indispensables</li>
          </ul>

          <div class="cta">
            <button class="btn" disabled>Essai 3 jours → Mensuel</button>
            <button class="btn ghost" disabled>Annuel 10 €</button>
            <button class="btn ghost" data-toggle>Détails</button>
          </div>

          <div class="savebar" data-savebar></div>
          <div class="details"><div class="details-inner" data-details></div></div>
          <p class="note">Paiement à l’ouverture commerciale.</p>
        </article>

        <!-- Micro & Assos -->
        <article class="card" tabindex="0" data-plan="micro" data-monthly="2" data-annual="20" data-market="5">
          <span class="ribbon" data-ribbon></span>
          <button class="discount" data-jump title="Remise paiement en 1 fois"></button>

          <p class="subtitle">Le meilleur départ</p>
          <h3 class="h3">Micro & Assos</h3>
          <div class="price-row"><span class="price">2 €</span><span class="per">/ mois</span></div>
          <p class="promise">Tout ce qu’il faut, rien d’inutile.</p>

          <ul class="features">
            <li><span class="icon" aria-hidden="true"></span>Scan site + analyse PDF locale</li>
            <li><span class="icon" aria-hidden="true"></span>Rapport PDF “preuve d’audit”</li>
            <li><span class="icon" aria-hidden="true"></span>Templates RGPD/CGV prêts à remplir</li>
          </ul>

          <div class="cta">
            <button class="btn" disabled>Essai 3 jours → Mensuel</button>
            <button class="btn ghost" disabled>Annuel 20 €</button>
            <button class="btn ghost" data-toggle>Détails</button>
          </div>

          <div class="savebar" data-savebar></div>
          <div class="details"><div class="details-inner" data-details></div></div>
          <p class="note">Paiement à l’ouverture commerciale.</p>
        </article>

        <!-- Pros & Agences -->
        <article class="card" tabindex="0" data-plan="pros" data-monthly="9.9" data-annual="85" data-market="19">
          <span class="ribbon" data-ribbon></span>
          <span class="popular">Populaire</span>
          <button class="discount" data-jump title="Remise paiement en 1 fois"></button>

          <p class="subtitle">Gain de temps maximal</p>
          <h3 class="h3">Pros & Agences</h3>
          <div class="price-row"><span class="price">9,90 €</span><span class="per">/ mois</span></div>
          <p class="promise">Productivité, rigueur, livrables prêts client.</p>

          <ul class="features">
            <li><span class="icon" aria-hidden="true"></span>Audit multi-thèmes (RGPD / A11y / Mentions)</li>
            <li><span class="icon" aria-hidden="true"></span>Génération & suivi de documents</li>
            <li><span class="icon" aria-hidden="true"></span>Portail client, export complet</li>
          </ul>

          <div class="cta">
            <button class="btn" disabled>Essai 3 jours → Mensuel</button>
            <button class="btn ghost" disabled>Annuel 85 €</button>
            <button class="btn ghost" data-toggle>Détails</button>
          </div>

          <div class="savebar" data-savebar></div>
          <div class="details"><div class="details-inner" data-details></div></div>
          <p class="note">Paiement à l’ouverture commerciale.</p>
        </article>
      </div>

      <div class="dots" id="dots" aria-hidden="false"></div>
    </div>
  </div>
</section>

<footer class="container footer">
  <div style="display:flex;gap:12px;justify-content:space-between;flex-wrap:wrap">
    <span>© <span id="year"></span> Awenoria</span>
    <span><a href="mentions.html">Mentions légales</a> · <a href="confidentialite.html">Confidentialité</a></span>
  </div>
</footer>

<script>
/* année + header sticky */
document.getElementById('year').textContent = new Date().getFullYear();
(function(){const h=document.getElementById('site-header');const t=()=>{h.classList.toggle('scrolled',window.scrollY>10)};t();window.addEventListener('scroll',t,{passive:true})})();

/* utils */
const euro=n=>(Math.round(n*100)/100).toLocaleString('fr-FR',{minimumFractionDigits:(n%1?2:0),maximumFractionDigits:2})+' €';
const pct =n=>(Math.round(n*10)/10).toLocaleString('fr-FR')+' %';

/* rubans + détails + badges + savebar */
document.querySelectorAll('.card[data-plan]').forEach(card=>{
  const name = card.querySelector('.h3')?.textContent.trim() || '';
  const m=parseFloat(card.dataset.monthly||'0');
  const a=parseFloat(card.dataset.annual||'0');
  const market=parseFloat(card.dataset.market||'0');
  const yearFull=m*12, rate=yearFull?((yearFull-a)/yearFull*100):0;

  const rb=card.querySelector('[data-ribbon]');
  if(rb) rb.textContent=`Paiement en 1 fois : −${pct(rate)} (${euro(a)}/an)`;

  const badge=card.querySelector('[data-jump]');
  if(badge) badge.textContent = `-${pct(rate)}`;

  const savebar=card.querySelector('[data-savebar]');
  if(savebar) savebar.textContent = `Paiement en 1 fois : −${pct(rate)} (${euro(a)}/an)`;

  const details=card.querySelector('[data-details]');
  if(details){
    const saveM=Math.max(0, market-m);
    const saveRate=market?saveM/market*100:0;
    const saveAn=Math.max(0, yearFull-a);
    details.innerHTML = `
      <b>${name}</b> — Prix marché estimé : <b>${euro(market)}/mois</b>.<br>
      Économie mensuelle : <b>${euro(saveM)}</b> (${pct(saveRate)}).<br>
      En paiement en une fois : <b>${euro(saveAn)}</b> gagnés / an (${pct(rate)} vs mensuel).
      <div class="note">Estimations indicatives — adaptez selon votre benchmark.</div>
    `;
  }

  /* badge = scroll au centre + ouvre détails */
  badge?.addEventListener('click', ()=>{
    card.scrollIntoView({behavior:'smooth', inline:'center', block:'nearest'});
    setTimeout(()=>card.classList.add('show-details'), 260);
  });

  /* bouton détails */
  card.querySelector('[data-toggle]')?.addEventListener('click',()=>card.classList.toggle('show-details'));
});

/* carrousel — centre actif */
const track=document.getElementById('track');
const cards=[...track.querySelectorAll('.card')];
const dots=document.getElementById('dots');
const prev=document.getElementById('prev'), next=document.getElementById('next');

function idxCenter(){
  const mid=track.getBoundingClientRect().left + track.clientWidth/2;
  let k=0,dmin=1e9;
  cards.forEach((c,i)=>{const r=c.getBoundingClientRect(); const d=Math.abs((r.left+r.right)/2-mid); if(d<dmin){dmin=d;k=i;}});
  return k;
}
function setActive(i){
  cards.forEach((c,j)=>{
    c.classList.toggle('center', j===i);
    c.classList.toggle('left', j<i);
    c.classList.toggle('right', j>i);
    const dist=Math.abs(j-i);
    const blur=Math.min(0.8, dist*0.35);
    c.style.filter = c.classList.contains('center') ? 'none' : `saturate(.78) brightness(.94) blur(${blur}px)`;
    c.style.opacity = c.classList.contains('center') ? 1 : (dist>=2 ? 0.42 : 0.58);
  });
  [...dots.children].forEach((d,j)=>d.classList.toggle('active', j===i));
}
function buildDots(){
  dots.innerHTML='';
  cards.forEach((_,i)=>{
    const s=document.createElement('span'); s.className='dot'+(i===0?' active':''); s.tabIndex=0; s.role='button';
    s.addEventListener('click',()=>goTo(i));
    s.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){e.preventDefault();goTo(i);} });
    dots.appendChild(s);
  });
}
buildDots(); setActive(0);

/* défilement par delta (flèches) */
function goDelta(dir=1){
  const w = cards[0].getBoundingClientRect().width + 48;
  track.scrollBy({ left: dir*w, behavior:'smooth' });
}
function goTo(i){
  i=Math.max(0,Math.min(cards.length-1,i));
  cards[i].scrollIntoView({behavior:'smooth', inline:'center', block:'nearest'});
}
prev.addEventListener('click', ()=>goDelta(-1));
next.addEventListener('click', ()=>goDelta(+1));

/* clic carte = centrage */
cards.forEach((c,i)=>c.addEventListener('click', ()=>goTo(i)));

/* drag desktop */
let dragging=false, startX=0, scrollX=0;
track.addEventListener('pointerdown', e=>{dragging=true; startX=e.clientX; scrollX=track.scrollLeft; track.setPointerCapture(e.pointerId);});
track.addEventListener('pointermove', e=>{ if(!dragging) return; track.scrollLeft = scrollX - (e.clientX-startX);});
track.addEventListener('pointerup', ()=>{dragging=false});

/* molette : vertical = scroll page ; SHIFT ou deltaX = horizontal */
track.addEventListener('wheel', e=>{
  const wantsHorizontal = e.shiftKey || Math.abs(e.deltaX) > Math.abs(e.deltaY);
  if(wantsHorizontal){
    track.scrollLeft += (Math.abs(e.deltaX) > 0 ? e.deltaX : e.deltaY);
    e.preventDefault();
  } // sinon laisse la page scroller
},{passive:false});

/* auto-scroll au survol des bords (sans cliquer) */
const edgeL=document.getElementById('edgeLeft'), edgeR=document.getElementById('edgeRight');
let raf=null, dir=0;
function step(){
  if(dir!==0){ track.scrollLeft += dir*12; raf=requestAnimationFrame(step); }
}
function start(d){ dir=d; if(!raf) raf=requestAnimationFrame(step); }
function stop(){ dir=0; if(raf){cancelAnimationFrame(raf); raf=null;} }
edgeL.addEventListener('mouseenter', ()=>start(-1));
edgeR.addEventListener('mouseenter', ()=>start(+1));
edgeL.addEventListener('mouseleave', stop);
edgeR.addEventListener('mouseleave', stop);

/* recalc actif */
track.addEventListener('scroll', ()=>{ requestAnimationFrame(()=>setActive(idxCenter())); }, {passive:true});
window.addEventListener('resize', ()=>setActive(idxCenter()));

/* CTAs désactivées (pré-lancement) */
document.querySelectorAll('.btn[disabled]').forEach(b=>{
  b.addEventListener('click', ()=> alert('Le paiement sera activé au lancement officiel. Merci !'));
});

/* nav dure */
(function(){
  function hardLink(page){ const base=location.pathname.replace(/[^\/]*$/,''); window.location.assign(base+page+'?v='+Date.now()); }
  document.addEventListener('click', e=>{ const a=e.target.closest('a[data-page]'); if(!a) return; e.preventDefault(); hardLink(a.getAttribute('data-page')); }, {passive:false});
})();
</script>
</body>
</html>
