<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Fiche formation – Awenoria</title>
  <meta name="description" content="Détail de la formation : objectifs, programme, durée, modalités. Présentiel / distanciel, supports et attestation inclus." />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Police du site -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --aw-ink:#0a0a0a; --aw-blue:#0066ff; --aw-copper:#ff5c00; --aw-muted:#6b7280;
      --aw-panel:#ffffff; --aw-bg:#f5f7ff; --aw-radius:24px;
      --shadow:0 25px 50px -12px rgba(0,0,0,.15);
      --transition:.6s cubic-bezier(.22,1,.36,1);
    }
    @media (prefers-color-scheme:dark){
      :root{ --aw-ink:#f5f7ff; --aw-blue:#3d8bff; --aw-copper:#ff8a3d; --aw-muted:#a1a9c0; --aw-panel:#0b0f1a; --aw-bg:#0a0d14; --shadow:0 25px 50px -12px rgba(0,0,0,.45); }
    }
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{font-family:"Inter",system-ui,-apple-system,Arial,sans-serif;line-height:1.7;color:var(--aw-ink);background:var(--aw-bg);-webkit-font-smoothing:antialiased;overflow-x:hidden}

    /* ===== HERO (bleu) ===== */
    .hero{
      position:relative;min-height:46vh;display:flex;align-items:center;justify-content:center;
      text-align:center;color:#fff;overflow:hidden;
      background:
        radial-gradient(140% 150% at 10% -20%, rgba(255,255,255,.15), transparent 60%),
        radial-gradient(120% 120% at 120% 10%, rgba(255,255,255,.10), transparent 60%),
        linear-gradient(180deg, #0033cc 0%, #0066ff 100%);
    }
    .hero canvas{position:absolute;inset:0;width:100%;height:100%;z-index:0}
    .hero .content{position:relative;z-index:2;max-width:900px;padding:0 20px;animation:fadeInUp 1s both}
    .hero h1{font-size:clamp(42px,6vw,64px);font-weight:800;line-height:1.05;letter-spacing:-.02em}
    .hero .lead{font-size:1.25rem;font-weight:500;margin:18px auto 0;color:#e8f0ff}

    /* Formes géométriques */
    .hero-geo{position:absolute;inset:0;pointer-events:none;z-index:1;overflow:hidden}
    .hero-geo .g{position:absolute;width:64px;height:64px;opacity:.18;filter:blur(.2px);animation:geoFloat var(--dur,18s) cubic-bezier(.22,1,.36,1) infinite;will-change:transform,opacity}
    .hero-geo .circle{border-radius:50%;border:3px solid rgba(255,255,255,.65)}
    .hero-geo .square{border:3px solid rgba(255,255,255,.5);border-radius:14px}
    .hero-geo .triangle{--s:64px;width:var(--s);height:var(--s);clip-path:polygon(50% 0%, 0% 100%, 100% 100%);box-shadow:inset 0 0 0 3px rgba(255,255,255,.55);border-radius:8px;background:transparent}
    .hero-geo .diamond{border:3px solid rgba(255,255,255,.55);transform:rotate(45deg);animation-name:geoFloatDiamond}
    .hero-geo .g:nth-child(1){left:6%;top:12%;--dur:22s;--scale:.9}
    .hero-geo .g:nth-child(2){left:78%;top:18%;--dur:26s;--scale:1.1}
    .hero-geo .g:nth-child(3){left:16%;top:64%;--dur:24s;--scale:.85}
    .hero-geo .g:nth-child(4){left:88%;top:68%;--dur:20s;--scale:.95}
    .hero-geo .g:nth-child(5){left:44%;top:8%;--dur:28s;--scale:.8}
    .hero-geo .g:nth-child(6){left:54%;top:72%;--dur:23s;--scale:1.0}
    .hero-geo .g:nth-child(7){left:28%;top:36%;--dur:25s;--scale:1.2}
    .hero-geo .g:nth-child(8){left:70%;top:44%;--dur:27s;--scale:.9}
    @keyframes geoFloat{0%{transform:translate3d(0,0,0) scale(var(--scale,1)) rotate(0deg);opacity:.12}25%{transform:translate3d(20px,-30px,0) scale(var(--scale,1)) rotate(6deg);opacity:.22}50%{transform:translate3d(-10px,-60px,0) scale(var(--scale,1)) rotate(12deg);opacity:.2}75%{transform:translate3d(-30px,-30px,0) scale(var(--scale,1)) rotate(6deg);opacity:.24}100%{transform:translate3d(0,0,0) scale(var(--scale,1)) rotate(0deg);opacity:.18}}
    @keyframes geoFloatDiamond{0%{transform:rotate(45deg) translate3d(0,0,0) scale(var(--scale,1));opacity:.14}25%{transform:rotate(55deg) translate3d(18px,-30px,0) scale(var(--scale,1));opacity:.22}50%{transform:rotate(65deg) translate3d(-12px,-60px,0) scale(var(--scale,1));opacity:.2}75%{transform:rotate(55deg) translate3d(-28px,-30px,0) scale(var(--scale,1));opacity:.24}100%{transform:rotate(45deg) translate3d(0,0,0) scale(var(--scale,1));opacity:.18}}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:none}}
    @media (prefers-reduced-motion: reduce){ .hero-geo .g{ animation:none; opacity:.15 } }

    /* ===== CONTENU ===== */
    .section{max-width:1200px;margin:0 auto;padding:80px 20px}
    .grid{display:grid;grid-template-columns:2fr 1fr;gap:24px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .card{background:var(--aw-panel);border:1px solid rgba(15,23,32,.08);border-radius:var(--aw-radius);padding:24px;box-shadow:var(--shadow)}
    .card h2{margin:0 0 10px}
    .note{color:var(--aw-muted);font-size:14px}
    .back{display:inline-flex;align-items:center;gap:6px;margin-bottom:16px;color:#1b4f9b;text-decoration:none;font-weight:800}
    .back:hover{text-decoration:underline}

    /* Listes visibles même si styles globaux les masquent */
    .card ul{list-style:disc;padding-left:20px;margin:.25rem 0}
    .card li{margin:.22rem 0}
  </style>
</head>

<body class="page-fiche">
  <!-- Header injecté -->
  <div id="header"></div>

  <!-- ===== HERO (sans fil d’Ariane ni étiquettes) ===== -->
  <section class="hero" aria-labelledby="course-title">
    <canvas id="canvas" aria-hidden="true"></canvas>
    <div class="hero-geo" aria-hidden="true">
      <span class="g circle"></span><span class="g square"></span><span class="g triangle"></span><span class="g diamond"></span>
      <span class="g circle"></span><span class="g square"></span><span class="g triangle"></span><span class="g diamond"></span>
    </div>
    <div class="content">
      <h1 id="course-title">Titre formation</h1>
      <p id="course-pitch" class="lead">Résumé personnalisé selon l’origine (thématique / public).</p>
      <!-- AUCUNE “meta chip” ici -->
    </div>
  </section>

  <!-- ===== CONTENU ===== -->
  <main class="section" id="content" aria-label="Contenu et actions">
    <a id="back-link" class="back" href="javascript:history.back()" aria-label="Revenir à la liste précédente">← Revenir</a>

    <div class="grid">
      <article class="card">
        <h2>Programme</h2>
        <div id="course-program" class="program"></div>

        <h2 style="margin-top:16px">Objectifs</h2>
        <ul id="course-objectives"></ul>
      </article>

      <aside class="card" style="height:fit-content">
        <h2 style="margin:0 0 8px">Infos pratiques</h2>
        <ul class="note" id="practical-list" style="padding-left:18px;margin:8px 0 0">
          <li>Formats : atelier 2h, 1/2 journée, 1 journée</li>
          <li>Modalités : présentiel ou distanciel</li>
          <li>Financement : selon OPCO/plan interne</li>
        </ul>
        <p class="note" style="margin-top:12px">Supports & modèles fournis • Quiz & attestation inclus</p>
        <p style="margin-top:10px"><a class="btn primary" href="../../index.html#contact">Demander un devis</a></p>
      </aside>
    </div>
  </main>

  <!-- Footer injecté -->
  <div id="footer"></div>

  <!-- ===== Particules du hero ===== -->
  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = innerWidth;
    let h = canvas.height = innerHeight * .6;
    const particles = [];
    const opts = { count:60, speed:.3, radius:2, distance:120, color:'rgba(255,255,255,.25)' };
    addEventListener('resize', () => { w = canvas.width = innerWidth; h = canvas.height = innerHeight * .6; });
    class Particle{
      constructor(){ this.x=Math.random()*w; this.y=Math.random()*h; this.vx=(Math.random()-.5)*opts.speed; this.vy=(Math.random()-.5)*opts.speed; }
      update(){ this.x+=this.vx; this.y+=this.vy; if(this.x<0||this.x>w) this.vx*=-1; if(this.y<0||this.y>h) this.vy*=-1; }
      draw(){ ctx.beginPath(); ctx.arc(this.x,this.y,opts.radius,0,Math.PI*2); ctx.fillStyle=opts.color; ctx.fill(); }
      lines(){ particles.forEach(p=>{ const d=Math.hypot(this.x-p.x,this.y-p.y); if(d<opts.distance){ ctx.beginPath(); ctx.moveTo(this.x,this.y); ctx.lineTo(p.x,p.y); ctx.strokeStyle=`rgba(255,255,255,${1-d/opts.distance})`; ctx.stroke(); } }); }
    }
    (function init(){ for(let i=0;i<opts.count;i++) particles.push(new Particle()); })();
    (function animate(){ ctx.clearRect(0,0,w,h); particles.forEach(p=>{ p.update(); p.draw(); p.lines(); }); requestAnimationFrame(animate); })();
  </script>

  <!-- ===== Données cours : sans affichage des “meta chips” ni breadcrumbs ===== -->
  <script type="module">
    // Charge les données si disponibles, sinon fallback simple
    async function hydrate(){
      const titleEl = document.getElementById('course-title');
      const pitchEl = document.getElementById('course-pitch');
      const progEl  = document.getElementById('course-program');
      const objEl   = document.getElementById('course-objectives');
      const params = new URLSearchParams(location.search);
      const slug = location.pathname.split('/').pop().replace('.html','');
      const from = params.get('from'); const theme = params.get('theme'); const audience = params.get('public');

      const DEFAULT = {
        title: "Accessibilité (RGAA / EN 301 549)",
        pitch: "Qualifiez les systèmes, comprenez les obligations et préparez une mise en conformité pragmatique.",
        program: [
          "Bases RGAA / EN 301 549 & obligations",
          "Audit rapide de pages / composants",
          "Correctifs prioritaires et exemples",
          "Plan d’action & suivi"
        ],
        objectives: [
          "Comprendre les obligations et le périmètre",
          "Savoir appliquer dans votre contexte",
          "Produire les premiers livrables utiles",
          "Établir une feuille de route opérationnelle"
        ]
      };

      try{
        const mod = await import("../js/courses-data.js");
        const COURSES = mod.COURSES || [];
        const course  = COURSES.find(c => c.slug === slug);
        if(!course) throw new Error("Not found");

        function pickPitch(c){
          if(from==='public' && audience && c.pitchByAudience?.[audience]) return c.pitchByAudience[audience];
          if(from==='theme'  && theme    && c.pitchByTheme?.[theme])      return c.pitchByTheme[theme];
          return c.summary || DEFAULT.pitch;
        }

        titleEl.textContent = course.title || DEFAULT.title;
        pitchEl.textContent = pickPitch(course);

        const items = (course.program||DEFAULT.program).map(li=>`<li>${li}</li>`).join('');
        progEl.innerHTML = `<ul>${items}</ul>`;
        objEl.innerHTML  = (course.objectives?.length?course.objectives:DEFAULT.objectives)
                            .map(o=>`<li>${o}</li>`).join('');

        document.title = `${course.title} – Awenoria`;
      }catch(e){
        titleEl.textContent = DEFAULT.title;
        pitchEl.textContent = DEFAULT.pitch;
        progEl.innerHTML = `<ul>${DEFAULT.program.map(li=>`<li>${li}</li>`).join('')}</ul>`;
        objEl.innerHTML  = DEFAULT.objectives.map(o=>`<li>${o}</li>`).join('');
        document.title = `${DEFAULT.title} – Awenoria`;
      }
    }
    hydrate();
  </script>

  <!-- ===== Loader header/footer + CSS global ===== -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const headMount = document.getElementById("header");
    const footMount = document.getElementById("footer");
    if (!headMount && !footMount) return;

    const isGh = /github\.io$/.test(location.hostname);
    let base = "/";
    if (isGh) {
      const parts = location.pathname.split("/").filter(Boolean);
      base = parts.length ? `/${parts[0]}/` : "/";
    }

    // Injecte le CSS global du site + favicon
    const ensureHeadAsset = (href, rel, attr = {}) => {
      const l = document.createElement("link");
      l.rel = rel; l.href = base + href.replace(/^\//, "");
      Object.entries(attr).forEach(([k,v]) => l.setAttribute(k,v));
      document.head.appendChild(l);
    };
    ensureHeadAsset("assets/awenoria.css", "stylesheet");
    ensureHeadAsset("images/favicon-32.png", "icon", { sizes:"32x32", type:"image/png" });

    const candidates = (p) => {
      const clean = p.replace(/^\//, "");
      return [ base + clean, "./" + clean, "../" + clean, "../../" + clean ];
    };

    async function fetchAny(paths) {
      const queue = paths.flatMap(candidates);
      for (const u of queue) { try { const r = await fetch(u, { cache: "no-cache" }); if (r.ok) return r.text(); } catch(_) {} }
      throw new Error("Aucun chemin valide parmi: " + paths.join(", "));
    }

    function fixRootUrls(container) {
      container.querySelectorAll('a[href^="/"], img[src^="/"], link[href^="/"], script[src^="/"]')
        .forEach(el => {
          const attr = el.hasAttribute("href") ? "href" : "src";
          const val = el.getAttribute(attr);
          if (/^\/\//.test(val)) return;
          el.setAttribute(attr, base + val.replace(/^\//, ""));
        });
    }

    if (headMount) {
      fetchAny(["header.html", "partials/header.html"])
        .then(html => {
          headMount.innerHTML = html; fixRootUrls(headMount);
          return fetchAny(["assets/nav.js", "nav.js"]);
        })
        .then(code => {
          const s = document.createElement("script");
          if (/\b(import|export)\b/.test(code)) s.type = "module";
          s.textContent = code; document.body.appendChild(s);
        })
        .catch(() => { headMount.innerHTML = "<!-- Header introuvable -->"; });
    }

    if (footMount) {
      fetchAny(["footer.html", "partials/footer.html"])
        .then(html => { footMount.innerHTML = html; fixRootUrls(footMount); })
        .catch(() => { footMount.innerHTML = "<!-- Footer introuvable -->"; });
    }
  });
  </script>
</body>
</html>
