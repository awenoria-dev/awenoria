<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fiches de formation – Awenoria</title>
  <meta name="description" content="Liste interne des fiches de formation Awenoria. Accédez aux contenus détaillés, durées, modalités et programmes." />

  <!-- Icônes et couleur du site -->
  <link rel="icon" type="image/svg+xml" href="../favicon.svg">
  <link rel="shortcut icon" href="../favicon.ico">
  <link rel="apple-touch-icon" href="../icône-apple-touch.png">
  <meta name="theme-color" content="#0f5f9a">

  <!-- Police d'écriture -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:opsz,wght@12..96,300..800&display=swap" rel="stylesheet">

  <style>
    :root {
      --font-ui: "Manrope", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      --bg: #f6f9fc;
      --panel: #fff;
      --muted: #4a6176;
      --text: #0f5f9a;
      --brand: #0f5f9a;
      --accent: #16a34a;
      --copper: #ff8a3d;
      --radius: 16px;
      --shadow: 0 12px 28px rgba(0,0,0,.08);
      --maxw: 1100px;
    }
    * { box-sizing: border-box }
    body {
      margin: 0;
      color: var(--text);
      background: radial-gradient(1400px 700px at 10% -20%, #eef6ff 0%, rgba(238,246,255,.6) 45%, transparent 60%),
                  linear-gradient(180deg,#fff 0%,#f6f9fc 100%);
      -webkit-font-smoothing: antialiased;
      font-family: var(--font-ui);
    }
    h1, h2, h3 { font-weight: 800; }
    a { color: inherit; text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Barre de navigation */
    header.navbar {
      position: sticky; top: 0; z-index: 1000;
      background: rgba(255,255,255,.85);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(15,23,32,.08);
    }
    .nav-wrap {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 8px 14px;
      display: flex; align-items: center; justify-content: space-between;
    }
    .brand-img { height: clamp(56px,8vw,96px); object-fit: contain; }
    .nav-main a {
      font-weight: 800;
      padding: 0 12px;
      border-radius: 8px;
      font-size: 16px;
      color: var(--text);
    }
    .nav-main a:hover { background: rgba(27,136,255,.10); }

    /* Section principale */
    .section {
      max-width: var(--maxw);
      margin: 32px auto;
      padding: 0 20px;
    }
    .title-center { text-align: center; font-size: clamp(26px,4vw,40px); margin: 10px 0 6px; }
    .subtitle-center { text-align: center; color: var(--muted); max-width: 900px; margin: 0 auto 14px; }
    .underline {
      width: 80px; height: 4px; border-radius: 999px; background: var(--copper);
      margin: 10px auto 22px; opacity: .9;
    }

    /* Grille des cartes */
    .grid-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; }

    /* Carte de formation */
    .card {
      border-radius: 22px;
      padding: 20px;
      border: 1px solid rgba(15,23,32,.08);
      background: rgba(255,255,255,.86);
      box-shadow: var(--shadow);
      transition: transform .2s ease, box-shadow .3s ease;
      opacity: 0; transform: translateY(12px);
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(15,23,32,.12); }
    .card.reveal { opacity: 1; transform: translateY(0); transition: opacity .5s ease, transform .5s ease; }

    .meta { display: flex; flex-wrap: wrap; gap: 8px; margin: 6px 0; }
    .tag {
      border: 1px solid rgba(15,23,32,.12);
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 800;
      background: rgba(27,136,255,.06);
    }

    /* Bouton */
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      font-weight: 800;
      border-radius: 9999px;
      padding: 10px 16px;
      font-size: 15px;
      text-decoration: none;
      border: 1px solid transparent;
    }
    .btn.primary {
      background: rgba(27,136,255,.80);
      color: #fff;
      border-color: rgba(255,255,255,.25);
      box-shadow: inset 0 0 12px rgba(255,255,255,.15),
                  0 4px 18px rgba(27,136,255,.30);
    }
    .btn.primary:hover { background: rgba(27,136,255,.9); }

    /* Pied de page */
    footer { text-align: center; margin: 32px 0 40px; color: var(--muted); font-size: 15px; }
    footer a { color: var(--brand); font-weight: 800; }
  </style>
</head>

<body>
<header class="navbar">
  <div class="nav-wrap">
    <a href="../index.html"><img class="brand-img" src="../images/logo.png" alt="Awenoria"></a>
    <nav class="nav-main">
      <a href="../index.html#qui-sommes-nous">Qui sommes-nous ?</a>
      <a href="../Nos-services.html">Nos services</a>
      <a href="../nos-formations.html">Nos formations</a>
      <a href="../index.html#blog">Blog</a>
      <a href="../nos-formations.html#contact">Contact</a>
    </nav>
  </div>
</header>

<section class="section">
  <h1 class="title-center">Liste des fiches de formation</h1>
  <p class="subtitle-center">Page interne de test — génération automatique depuis <code>js/courses-data.js</code>.</p>
  <div class="underline"></div>

  <div id="cards" class="grid-list" aria-live="polite"></div>

  <p class="subtitle-center" style="margin-top:14px">
    <a class="btn primary" href="../nos-formations.html#contact">Demander un programme détaillé</a>
  </p>
</section>

<footer>
  <p>← <a href="../formations-liste.html">Retour au catalogue principal</a></p>
</footer>

<!-- 1️⃣ Charger les données -->
<script src="../js/courses-data.js"></script>

<!-- 2️⃣ Générer les cartes -->
<script>
  (function(){
    const root = document.getElementById("cards");
    const data = window.COURSES || [];

    if (!Array.isArray(data) || !data.length) {
      root.innerHTML = "<p>Aucune formation trouvée.</p>";
      return;
    }

    root.innerHTML = data.map(c => `
      <article class="card">
        <h3>${c.title}</h3>
        <div class="meta">
          ${c.duration ? `<span class="tag">${c.duration}</span>` : ""}
          ${c.level ? `<span class="tag">${c.level}</span>` : ""}
          ${(c.modalities || []).map(m => `<span class="tag">${m}</span>`).join("")}
        </div>
        <p>${c.summary || ""}</p>
        <p><a class="btn primary" href="./${c.slug}.html" aria-label="Voir la fiche détaillée de ${c.title}">Voir la fiche</a></p>
      </article>
    `).join("");

    // Animation douce à l’apparition
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReduced && 'IntersectionObserver' in window) {
      const cards = document.querySelectorAll('#cards .card');
      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const i = [...entry.target.parentElement.children].indexOf(entry.target);
            entry.target.style.transitionDelay = `${Math.min(i * 80, 400)}ms`;
            entry.target.classList.add('reveal');
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.12 });
      cards.forEach(card => io.observe(card));
    } else {
      document.querySelectorAll('.card').forEach(c => c.classList.add('reveal'));
    }
  })();
</script>
</body>
</html>
