<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Modèles juridiques — Awenoria</title>
  <meta name="description" content="Modèles prêts à l’emploi : politique de confidentialité, politique cookies, mentions légales, clauses de formulaires, email de désinscription, DPO.">
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- CSS globale -->
  <link rel="stylesheet" href="assets/awenoria.css">

  <style>
    :root{
      --aw-ink:#0a0a0a;
      --aw-blue:#0066ff;
      --aw-copper:#ff5c00;
      --aw-muted:#6b7280;
      --aw-panel:#ffffff;
      --aw-bg:#f5f7ff;
      --aw-radius:24px;
      --shadow:0 25px 50px -12px rgba(0,0,0,.15);
      --transition:.6s cubic-bezier(.22,1,.36,1);
    }
    @media (prefers-color-scheme:dark){
      :root{
        --aw-ink:#f5f7ff; --aw-blue:#3d8bff; --aw-copper:#ff8a3d; --aw-muted:#a1a9c0;
        --aw-panel:#0b0f1a; --aw-bg:#0a0d14; --shadow:0 25px 50px -12px rgba(0,0,0,.45);
      }
    }
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:"Inter",system-ui,-apple-system,Arial,sans-serif;
      line-height:1.7; color:var(--aw-ink); background:var(--aw-bg); -webkit-font-smoothing:antialiased;
    }
    a{text-decoration:none;color:var(--aw-blue)}
    img{max-width:100%;display:block}

    /* ---------- Hero ---------- */
    .hero{
      position:relative; min-height:60vh; display:flex; align-items:center; justify-content:center;
      text-align:center; color:#fff; overflow:hidden;
      background:
        radial-gradient(140% 150% at 10% -20%, rgba(255,255,255,.15), transparent 60%),
        radial-gradient(120% 120% at 120% 10%, rgba(255,255,255,.10), transparent 60%),
        linear-gradient(180deg, #0033cc 0%, #0066ff 100%);
    }
    .hero canvas{ position:absolute; inset:0; width:100%; height:100%; z-index:0; }
    .hero .content{ position:relative; z-index:2; max-width:800px; padding:0 20px; animation:fadeInUp 1s both; }
    .hero h1{ font-size:clamp(52px,7vw,72px); font-weight:800; line-height:1.05; letter-spacing:-.02em; }
    .hero .lead{ font-size:1.4rem; font-weight:500; margin:24px auto 0; color:#e8f0ff; }

    /* ---------- Sections ---------- */
    .section{ max-width:1200px; margin:0 auto; padding:100px 20px; }
    .section.alt{background:var(--aw-bg);}
    .title{ margin:0 0 10px; text-align:center; font-size:clamp(36px,5vw,48px); color:var(--aw-ink); font-weight:800; }
    .title::after{ content:''; display:block; width:60px; height:4px; background:var(--aw-copper); margin:10px auto 0; border-radius:3px; }
    .subtitle-center{ font-size:1.2rem; color:var(--aw-muted); max-width:680px; margin:0 auto 56px; text-align:center; }
    .grid{ display:grid; gap:24px; margin-top:18px; }
    .cols-2{grid-template-columns:repeat(2,1fr)}
    .cols-3{grid-template-columns:repeat(3,1fr)}
    @media(max-width:980px){.cols-2,.cols-3{grid-template-columns:1fr}}

    /* ---------- Cartes ---------- */
    .card{
      background:var(--aw-panel); border:1px solid rgba(15,23,32,.08); border-radius:var(--aw-radius);
      box-shadow:var(--shadow); padding:24px; transition:all var(--transition);
      display:block; position:relative; color:inherit; text-align:left;
    }
    .card:hover{ transform:translateY(-4px); box-shadow:0 28px 56px rgba(0,0,0,.1); border-color:var(--aw-copper); }

    /* ---------- Chips/Pills (override fort) ---------- */
    /* On neutralise toute règle globale (width/height/absolute/transform…) */
    .grid .card > .pill,
    .section .card > .pill,
    .model .pill{
      display:inline-flex !important;
      align-items:center; justify-content:center;
      position:static !important;
      width:auto !important; height:auto !important;
      min-width:0 !important; min-height:0 !important;
      padding:6px 12px !important;
      margin:0 0 10px 0 !important;
      border-radius:999px !important;
      background:var(--aw-blue) !important;
      color:#fff !important;
      font:800 12px/1 "Inter",system-ui,-apple-system,Arial,sans-serif !important;
      box-shadow:none !important;
      transform:none !important;
      white-space:nowrap !important;
    }

    .muted{color:var(--aw-muted)}
    .small{font-size:13px;color:var(--aw-muted)}
    .btn{
      display:inline-block; padding:10px 14px; border-radius:10px; font-weight:800; color:#fff; background:var(--aw-blue);
      box-shadow:var(--shadow); font-size:14px; transition:all var(--transition); border:none; cursor:pointer;
    }
    .btn:hover{ background:var(--aw-copper); transform:translateY(-2px); }
    .btn.ghost{ background:var(--aw-panel); color:var(--aw-blue); border:1px solid rgba(15,23,32,.08); }
    .btn-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }

    /* ---------- Modèles ---------- */
    .model{ display:flex; flex-direction:column; gap:10px; }
    .model textarea{
      width:100%; min-height:320px; resize:vertical; padding:14px;
      border:1px solid rgba(15,23,32,.08); border-radius:12px;
      font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size:14px; line-height:1.55; background:var(--aw-bg); color:var(--aw-ink);
      transition:all var(--transition);
    }
    .model textarea:focus{ outline:none; border-color:var(--aw-copper); box-shadow:0 0 0 3px rgba(255,138,61,.2); }
    .model .tips{ background:var(--aw-bg); border:1px solid rgba(15,23,32,.08); border-radius:12px; padding:10px; font-size:13px; color:var(--aw-muted); }

    /* ---------- Animations ---------- */
    @keyframes fadeInUp{ from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:none} }
    .reveal{opacity:0;transform:translateY(30px);transition:opacity .8s cubic-bezier(.22,1,.36,1),transform .8s cubic-bezier(.22,1,.36,1)}
    .reveal.is-visible{opacity:1;transform:none}

    /* ---------- Éditeur rapide ---------- */
    #fastEditor{margin-top:24px}
    #fastEditor input,#fastEditor select{
      width:100%; padding:10px 12px; border:1px solid rgba(15,23,32,.08); border-radius:12px; font-family:inherit; font-size:14px; background:var(--aw-panel); color:var(--aw-ink);
    }
    #fastEditor label{font-size:13px;color:var(--aw-muted)}
  </style>
</head>
<body>

  <!-- Header injecté -->
  <div id="header"></div>

  <section class="hero">
    <canvas id="canvas" aria-hidden="true"></canvas>
    <div class="content">
      <h1>Modèles juridiques</h1>
      <p class="lead">Adapte ces modèles à ton activité et publie-les sur le site. Les champs à personnaliser sont entre <b>[[…]]</b>.</p>
    </div>
  </section>

  <main>
    <!-- Accès rapide -->
    <section class="section">
      <div class="container">
        <h2 class="title">Accès rapide</h2>
        <div class="grid cols-3">
          <a class="card reveal" href="#polconf">
            <span class="pill">RGPD</span>
            <h3>Politique de confidentialité</h3>
            <p class="muted">Site vitrine / lead gen</p>
          </a>
          <a class="card reveal" href="#polcookies">
            <span class="pill">Cookies</span>
            <h3>Politique cookies & CMP</h3>
            <p class="muted">Transparence & preuve</p>
          </a>
          <a class="card reveal" href="#mentions">
            <span class="pill">Mentions</span>
            <h3>Mentions légales</h3>
            <p class="muted">Éditeur, hébergeur, RCS…</p>
          </a>
        </div>
        <div class="grid cols-3" style="margin-top:12px">
          <a class="card reveal" href="#form">
            <span class="pill">Formulaires</span>
            <h3>Clause au point de collecte</h3>
            <p class="muted">Contact, devis, newsletter</p>
          </a>
          <a class="card reveal" href="#email">
            <span class="pill">Emailing</span>
            <h3>Pied de page désinscription</h3>
            <p class="muted">Lien & mentions</p>
          </a>
          <a class="card reveal" href="#cgv">
            <span class="pill">E-commerce</span>
            <h3>Trame courte CGV</h3>
            <p class="muted">B2C simplifié</p>
          </a>
        </div>
      </div>
    </section>

    <!-- Éditeur rapide -->
    <section class="section">
      <div class="container">
        <h2 class="title reveal">Je personnalise en 30 s</h2>
        <p class="subtitle-center reveal">
          Remplis le mini-formulaire : le texte se met à jour automatiquement dans chaque modèle.
        </p>
        <div class="btn-row reveal" style="justify-content:center">
          <button class="btn ghost" onclick="toggleFastEditor()">Ouvrir l’éditeur rapide ▾</button>
        </div>

        <form id="fastEditor" class="reveal" style="display:none">
          <div class="grid cols-3" style="gap:12px">
            <input name="raison" placeholder="Raison sociale" required>
            <input name="adresse" placeholder="Adresse complète" required>
            <input name="emailRGPD" type="email" placeholder="Email RGPD" required>
          </div>
          <label style="display:flex;align-items:center;gap:8px;margin-top:12px">
            <input type="checkbox" name="analytics"> J’utilise Google Analytics
          </label>
        </form>
      </div>
    </section>

    <!-- Politique de confidentialité -->
    <section id="polconf" class="section alt">
      <div class="container">
        <h2 class="title">Politique de confidentialité — modèle “site vitrine”</h2>
        <div class="card model reveal">
          <div class="tips">
            <b>À adapter :</b> ajoute tes finalités réelles (ex : prise de contact, prospection, analytics, recrutement). Si tu utilises des sous-traitants (hébergeur, emailing, CRM), indique-les.
          </div>
<textarea id="mdl-polconf" spellcheck="false">Dernière mise à jour : [[JJ/MM/AAAA]]

1) Responsable de traitement
[[Raison sociale]], [[forme juridique]], [[adresse]], [[RCS/SIREN]], [[TVA]].
Contact : [[email RGPD]] | [[adresse]].
Délégué à la Protection des Données (le cas échéant) : [[nom DPO / prestataire DPO]] – [[email DPO]].

2) Finalités & bases légales
• Prise de contact / demandes (base légale : exécution de mesures précontractuelles).
• Prospection par email (base légale : consentement ou intérêt légitime conformément à l’art. 13(2) ePrivacy/LCEN).
• Analytics / mesure d’audience (base légale : consentement lorsque le traceur n’est pas strictement nécessaire).
• Recrutement (base légale : intérêt légitime et/ou mesures précontractuelles).
• Gestion des cookies et consentements (base légale : obligation légale / consentement).

3) Données traitées & durées de conservation
• Formulaire de contact : identité, coordonnées, message – conservation : [[durée]], puis archivage légal si applicable.
• Prospection : email, préférences – conservation : [[durée]] après dernier contact ou jusqu’au retrait du consentement.
• Analytics : identifiants de cookies, logs – conservation : [[durée]].
• Candidatures : CV, LM, échanges – conservation : [[durée]] après dernier contact.

4) Destinataires & sous-traitants
Données accessibles en interne aux personnes habilitées. Sous-traitants : [[hébergeur]], [[outil emailing/CMP/CRM]], situés [[UE/hors UE avec garanties]].

5) Transferts hors UE
En cas de transferts, application des garanties appropriées (clauses contractuelles types, mesures complémentaires). Informations : [[lien ou contact]].

6) Droits des personnes
Accès, rectification, effacement, limitation, opposition, portabilité. Retrait du consentement à tout moment. Exercer vos droits : [[email RGPD / formulaire]]. Réclamation : CNIL (cnil.fr).

7) Sécurité
Mesures techniques et organisationnelles proportionnées (contrôles d’accès, chiffrement en transit, journalisation des accès administrateurs).

8) Cookies
Voir notre politique cookies : [[/politique-cookies]] ; paramétrage via le bandeau et le centre de préférences.

9) Contact
Pour toute question : [[email RGPD]] – [[adresse]].
</textarea>
          <div class="btn-row">
            <button class="btn" data-copy="#mdl-polconf">Copier le modèle</button>
            <a class="btn ghost" href="guides.html#rgpd">Voir la check-list RGPD →</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Politique cookies -->
    <section id="polcookies" class="section">
      <div class="container">
        <h2 class="title">Politique cookies & CMP — modèle</h2>
        <div class="card model reveal">
          <div class="tips">
            <b>À adapter :</b> complète la <u>liste des cookies</u> (finalité, durée, tiers), précise la <u>preuve du consentement</u> (journal CMP), et le <u>retour sur décision</u> (lien “gérer mes cookies”).
          </div>
<textarea id="mdl-cookies" spellcheck="false">Dernière mise à jour : [[JJ/MM/AAAA]]

1) Qu’est-ce qu’un cookie ?
Fichier déposé sur votre terminal pour permettre le fonctionnement du site, mesurer l’audience ou personnaliser le contenu.

2) Notre cadre
Nous ne déposons des cookies non essentiels qu’avec votre consentement. Le refus est aussi simple que l’acceptation. Vous pouvez modifier vos choix à tout moment via [[lien “Gérer mes cookies”]].

3) Types de cookies utilisés
• Cookies strictement nécessaires (ex : équilibrage de charge, sécurité, conservation de votre choix de consentement). Durée : [[durée]].
• Mesure d’audience (non exemptée) – nécessite consentement (ex : [[outil analytics]]). Durée : [[durée]].
• Marketing / publicité (si applicable) – nécessite consentement. Durée : [[durée]].

4) Détail des cookies
| Nom | Finalité | Tiers | Durée |
| ---- | -------- | ----- | ----- |
| [[ex: _ga]] | Analytics | Google | 13 mois |
| [[...]] | [[...]] | [[...]] | [[...]] |

5) Preuve du consentement
Notre CMP [[nom de la CMP]] journalise votre choix (horodatage, version). Pour toute question : [[email RGPD]].

6) Modifier vos choix
Vous pouvez à tout moment revenir sur votre consentement via [[lien ouvrir CMP]].

7) Contact / recours
Pour exercer vos droits : [[email RGPD]]. Réclamation : CNIL (cnil.fr).
</textarea>
          <div class="btn-row">
            <button class="btn" data-copy="#mdl-cookies">Copier le modèle</button>
            <a class="btn ghost" href="guides.html#cookies">Voir la check-list Cookies →</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Mentions légales -->
    <section id="mentions" class="section alt">
      <div class="container">
        <h2 class="title">Mentions légales — modèle</h2>
        <div class="card model reveal">
          <div class="tips">
            <b>À adapter :</b> veille à l’exactitude des identifiants (RCS/SIREN/TVA). Ajoute la médiation (B2C), et la propriété intellectuelle si tu as des marques/visuels spécifiques.
          </div>
<textarea id="mdl-mentions" spellcheck="false">Éditeur
[[Raison sociale]] [[forme juridique]] au capital de [[montant]] €, [[adresse complète]].
RCS [[ville]] [[numéro RCS]] — SIREN [[numéro]] — TVA [[n° intracom]].
Contact : [[email]] / [[téléphone]].

Directeur de la publication
[[Nom, fonction]].

Hébergeur
[[Nom hébergeur]], [[adresse]], [[téléphone ou email]].

Propriété intellectuelle
Le site et son contenu (textes, images, marques) sont protégés. Toute reproduction est soumise à autorisation préalable.

Données personnelles
Voir notre politique de confidentialité : [[/confidentialite.html]].

Médiation à la consommation (si B2C)
En cas de litige, après démarche préalable auprès de [[Société]], vous pouvez saisir le médiateur : [[Nom / coordonnées / site du médiateur]].

Crédits
Design & développement : [[crédits le cas échéant]].
Photos/illustrations : [[banque d’images / crédits]].
</textarea>
          <div class="btn-row">
            <button class="btn" data-copy="#mdl-mentions">Copier le modèle</button>
            <a class="btn ghost" href="guides.html#mentions">Voir la check-list Mentions →</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Clauses formulaires -->
    <section id="form" class="section">
      <div class="container">
        <h2 class="title">Clauses au point de collecte — modèles</h2>
        <div class="grid cols-2">
          <div class="card model reveal">
            <span class="pill">Contact / Devis</span>
<textarea id="mdl-form-contact" spellcheck="false">Le responsable de traitement est [[Raison sociale]]. Vos données sont utilisées pour traiter votre demande et vous répondre (base légale : mesures précontractuelles). En savoir plus sur vos droits et nos durées de conservation : [[lien Politique de confidentialité]]. Contact RGPD : [[email RGPD]].
</textarea>
            <div class="btn-row"><button class="btn" data-copy="#mdl-form-contact">Copier</button></div>
          </div>

          <div class="card model reveal">
            <span class="pill">Newsletter (consentement)</span>
<textarea id="mdl-form-news" spellcheck="false">En cochant cette case, j’accepte de recevoir les actualités de [[Raison sociale]]. Vous pouvez retirer votre consentement à tout moment via le lien de désinscription. Informations sur le traitement et vos droits : [[lien Politique de confidentialité]].
</textarea>
            <div class="btn-row"><button class="btn" data-copy="#mdl-form-news">Copier</button></div>
          </div>
        </div>

        <div class="card model reveal" style="margin-top:18px">
          <span class="pill">Recrutement</span>
<textarea id="mdl-form-jobs" spellcheck="false">Le responsable de traitement est [[Raison sociale]]. Vos données sont traitées pour l’étude de votre candidature (base légale : intérêt légitime/mesures précontractuelles). Conservation : [[durée]] après le dernier contact. En savoir plus et exercer vos droits : [[email RGPD]] / [[lien Politique]].
</textarea>
          <div class="btn-row"><button class="btn" data-copy="#mdl-form-jobs">Copier</button></div>
        </div>
      </div>
    </section>

    <!-- Email footer -->
    <section id="email" class="section alt">
      <div class="container">
        <h2 class="title">Emailing — pied de page désinscription</h2>
        <div class="card model reveal">
          <div class="tips">
            <b>Note :</b> le lien de désinscription doit fonctionner sans friction (un clic). Conserve la <u>preuve d’opt-in</u> et la date d’inscription.
          </div>
<textarea id="mdl-email" spellcheck="false">Vous recevez cet email de la part de [[Raison sociale]] car vous avez consenti à recevoir nos communications. Pour ne plus recevoir nos emails : [[Lien de désinscription]].
Politique de confidentialité : [[URL]]. Contact RGPD : [[email RGPD]].
</textarea>
          <div class="btn-row"><button class="btn" data-copy="#mdl-email">Copier le modèle</button></div>
        </div>
      </div>
    </section>

    <!-- CGV -->
    <section id="cgv" class="section">
      <div class="container">
        <h2 class="title">Trame courte CGV (B2C) — modèle</h2>
        <div class="card model reveal">
          <div class="tips">
            <b>À adapter avec précaution :</b> cette trame est volontairement synthétique (information précontractuelle). Pour un e-commerce complet (livraison, garanties légales, médiation, droit applicable…), complète chaque section selon tes produits/services.
          </div>
<textarea id="mdl-cgv" spellcheck="false">1) Identité du vendeur
[[Raison sociale]], [[forme juridique]], [[adresse]], [[RCS/SIREN]], [[TVA]], contact : [[email/tél]].

2) Produits & prix
Descriptions disponibles sur le site. Les prix sont indiqués en [[TTC/HT]] [[devise]] et n’incluent pas [[frais de livraison le cas échéant]].

3) Commande & paiement
Modes de paiement acceptés : [[liste]]. La commande est ferme après confirmation de paiement. Facture envoyée par email.

4) Livraison / exécution
Délais indicatifs : [[X jours ouvrés]] ; zones desservies : [[liste]]. Suivi transmis par email.

5) Droit de rétractation (B2C)
Vous disposez d’un délai de [[14]] jours à compter de la réception pour exercer votre droit de rétractation, sans motif. Modalités et formulaire : [[lien / joindre formulaire]]. Exceptions légales : [[contenu numérique commencé avec votre accord, produits personnalisés, etc.]].

6) Garanties légales
Conformité et vices cachés selon le Code de la consommation / Code civil. Contact SAV : [[email/tél]].

7) Médiation à la consommation
Après démarche préalable auprès de [[Raison sociale]], vous pouvez saisir gratuitement le médiateur [[Nom / coordonnées / URL]].

8) Données personnelles
Voir Politique de confidentialité : [[URL]]. Finalités : gestion de commande, livraison, facturation.

9) Droit applicable & litiges
Droit français. Tribunaux compétents selon le droit commun.
</textarea>
          <div class="btn-row">
            <button class="btn" data-copy="#mdl-cgv">Copier le modèle</button>
            <a class="btn ghost" href="guides.html#mentions">Voir obligations e-commerce →</a>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="section alt">
      <div class="container" style="text-align:center">
        <h2 class="title reveal">Besoin d’une relecture experte ?</h2>
        <p class="subtitle-center reveal">On peut adapter ces modèles à ton secteur et à tes outils (CMP, CRM, emailing) et préparer les preuves utiles.</p>
        <div class="btn-row reveal" style="justify-content:center">
          <a class="btn" href="contact.html">Parler à un expert</a>
          <a class="btn ghost" href="tarifs.html">Voir les offres</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer injecté -->
  <div id="footer"></div>

  <!-- ===== JS : canvas + reveal + copier + éditeur ===== -->
  <script>
    // Hero canvas
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = innerWidth;
    let h = canvas.height = innerHeight;
    const particles = [];
    const opts = {count:60,speed:.3,radius:2,distance:120,color:'rgba(255,255,255,.25)'};
    addEventListener('resize', () => { w = canvas.width = innerWidth; h = canvas.height = innerHeight; });
    class Particle{
      constructor(){ this.x=Math.random()*w; this.y=Math.random()*h; this.vx=(Math.random()-.5)*opts.speed; this.vy=(Math.random()-.5)*opts.speed; }
      update(){ this.x+=this.vx; this.y+=this.vy; if(this.x<0||this.x>w) this.vx*=-1; if(this.y<0||this.y>h) this.vy*=-1; }
      draw(){ ctx.beginPath(); ctx.arc(this.x,this.y,opts.radius,0,Math.PI*2); ctx.fillStyle=opts.color; ctx.fill(); }
      lines(){ particles.forEach(p=>{ const d=Math.hypot(this.x-p.x,this.y-p.y); if(d<opts.distance){ ctx.beginPath(); ctx.moveTo(this.x,this.y); ctx.lineTo(p.x,p.y); ctx.strokeStyle=`rgba(255,255,255,${1-d/opts.distance})`; ctx.stroke(); } }); }
    }
    function init(){ for(let i=0;i<opts.count;i++) particles.push(new Particle()); }
    function animate(){ ctx.clearRect(0,0,w,h); particles.forEach(p=>{ p.update(); p.draw(); p.lines(); }); requestAnimationFrame(animate); }
    init(); animate();

    // Reveal on scroll
    const reveals = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver(entries => {
      entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('is-visible'); });
    }, { threshold: 0.2 });
    reveals.forEach(el => io.observe(el));

    // Copier le contenu des textarea
    document.addEventListener('click', async (e) => {
      const btn = e.target.closest('button[data-copy]');
      if(!btn) return;
      const sel = btn.getAttribute('data-copy');
      const ta = document.querySelector(sel);
      if(!ta) return;
      try{
        await navigator.clipboard.writeText(ta.value);
        const old = btn.textContent; btn.textContent = 'Copié ✓'; setTimeout(()=>btn.textContent=old,1500);
      }catch{
        ta.select(); document.execCommand('copy');
        const old = btn.textContent; btn.textContent = 'Copié ✓'; setTimeout(()=>btn.textContent=old,1500);
      }
    });

    // Éditeur rapide
    function toggleFastEditor(){
      const form = document.getElementById('fastEditor');
      form.style.display = form.style.display==='none' ? 'block' : 'none';
    }
    document.getElementById('fastEditor').addEventListener('input',()=>{
      const data = Object.fromEntries(new FormData(fastEditor).entries());
      document.querySelectorAll('.model textarea').forEach(ta=>{
        ta.value = ta.value
          .replace(/\[\[Raison sociale\]\]/g, data.raison||'[[Raison sociale]]')
          .replace(/\[\[adresse\]\]/g, data.adresse||'[[adresse]]')
          .replace(/\[\[email RGPD\]\]/g, data.emailRGPD||'[[email RGPD]]')
          .replace(/\[\[outil analytics\]\]/g, data.analytics?'Google Analytics':'notre outil de mesure');
      });
    });
  </script>

  <!-- ===== Loader header/footer + nav (priorité racine, fallback partials/) ===== -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const headMount = document.getElementById("header");
    const footMount = document.getElementById("footer");
    if (!headMount && !footMount) return;

    const isGh = /github\.io$/.test(location.hostname);
    let base = "/";
    if (isGh) {
      const parts = location.pathname.split("/").filter(Boolean);
      base = parts.length ? `/${parts[0]}/` : "/";
    }

    const candidates = (p) => {
      const clean = p.replace(/^\//, "");
      return [ base + clean, "./" + clean, "../" + clean ];
    };

    async function fetchAny(paths) {
      const queue = paths.flatMap(candidates);
      for (const u of queue) {
        try { const r = await fetch(u, { cache: "no-cache" }); if (r.ok) return r.text(); } catch(_) {}
      }
      throw new Error("Aucun chemin valide parmi: " + paths.join(", "));
    }

    function fixRootUrls(container) {
      container.querySelectorAll('a[href^="/"], img[src^="/"], link[href^="/"], script[src^="/"]')
        .forEach(el => {
          const attr = el.hasAttribute("href") ? "href" : "src";
          const val = el.getAttribute(attr);
          if (/^\/\//.test(val)) return;
          el.setAttribute(attr, base + val.replace(/^\//, ""));
        });
    }

    // HEADER : priorité racine, fallback partials/
    if (headMount) {
      fetchAny(["header.html", "partials/header.html"])
        .then(html => {
          headMount.innerHTML = html;
          fixRootUrls(headMount);
          return fetchAny(["assets/nav.js", "nav.js"]);
        })
        .then(code => {
          const s = document.createElement("script");
          if (/\b(import|export)\b/.test(code)) s.type = "module";
          s.textContent = code;
          document.body.appendChild(s);
          console.log("[awenoria] header + nav chargés");
        })
        .catch(err => {
          console.error("Header load error:", err);
          headMount.innerHTML = "<!-- Header introuvable -->";
        });
    }

    // FOOTER : priorité racine, fallback partials/
    if (footMount) {
      fetchAny(["footer.html", "partials/footer.html"])
        .then(html => { footMount.innerHTML = html; fixRootUrls(footMount); })
        .catch(err => {
          console.error("Footer load error:", err);
          footMount.innerHTML = "<!-- Footer introuvable -->";
        });
    }
  });
  </script>
</body>
</html>
